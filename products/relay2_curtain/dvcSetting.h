//===========================================================================================
//                                       Relay2
//===========================================================================================
#define SOFTWARE_VERSION "1.00"
#define SOFTWARE_DATE "1403.10.01"


//===========================================================================================
//                   فعال سازی حالت دیباگ و پرینت کردن در سریال
//                   pin TX & RX : 16,17
//===========================================================================================
#define SOFTWARE_DEBUGMODE true

#define BRAND_AIRNGIN true


//===========================================================================================
//                   NeoPixel LED LED 
//                   جهت مشخص کردن وضعیت های مختلف
//===========================================================================================
#define NEOPIXEL_PIN 22
#define NEOPIXEL_NUM 1
#define NEOPIXEL_LEDWARNING_INDEX 0
#define NEOPIXEL_LEDRW_INDEX 0
#define NEOPIXEL_BRIGHTNESS 1

//.......................................... Hardware Exist

#define HARDWARE_RELAY true
// #define HARDWARE_RELAY_AMPER_16 true

// #define HARDWARE_GSM true
#define GSM_PIN 19


#define HARDWARE_SENSORS (HARDWARE_SENSORTEMP || HARDWARE_SENSORSMOKE || HARDWARE_SENSORLUX || HARDWARE_SENSORMOTION || HARDWARE_SENSORHUMIDITY)


//.......................................... Hardware Qty
#define MAX_OPR 2
#define MAX_RELAY MAX_OPR
#define MAX_TOUCHKEY 0

//.......................................... Scenario
#define MAX_SCENARIO 20         // تعداد سناریوها
#define MAX_SCENARIO_OPR (byte)(MAX_RELAY * (MAX_RELAY <= 3 ? 2 : 1.51))  // تعداد فرمان رله در هر سناری  
#define MAX_SCENARIO_GSM 0      // تعداد فرمان پیامک در هر سناریو
#define MAX_SCENARIO_BUZZER 0      // تعداد فرمان بازر در هر سناریو
#define MAX_SCENARIO_VIRTUAL 3  // تعداد فرمان ویرچوال در هر سناریو
#define MAX_SCENARIO_CODE 3     // تعداد فرمان کد در هر سناریو

//.......................................... Runsen
#define MAX_RUNSENKEY 20
#define MAX_RUNSENGSM 0
#define MAX_RUNSENRF433 0
#define MAX_RUNSENDIGITAL 0
#define MAX_RUNSENVIRTUAL 20
#define MAX_RUNSENCODE 10

#define MAX_RUNSENLINKED 10
#if SUPPORT_THERMOLINK
#define MAX_THERMOLINK ((byte)(MAX_RELAY / 3))
#endif

//........................ Relay 18
#define DEVICE_DESC "RelayCurtain " + String(MAX_TOUCHKEY / 2) + "Line"  // + String(defined(HARDWARE_RF433) ? "_RF433" : "") + String(defined(HARDWARE_GSM) ? "_GSM" : "")
#define DEVICE_TYPE "RelayCurtain" + String(MAX_TOUCHKEY / 2)
#define DEVICE_TYPECODE "V12"  // Relay18 10A 12v

#define RELAY_CH_START 36    // پیشفرض شروع کانال رله
#define SENKEY_CH_START 46  // پیشفرض شروع کانال کلیدسناریو
#define CH_START_DIGITAL 0  // پیشفرض شروع کانال ورودی دیجیتال
#define CH_START_RF433 0    // پیشفرض کانال rf433
#define CH_START_GSM 0       // پیشفرض کانال gsm





//.......................................... Device Variant
#define DEVICE_VARIANT_6 "61:RRRRSS:4 Relays  +  2 SenKey   |   62:RRSSCD:2 Relays  +  2 SenKey  +  1 Curtain   |   63:RRRRKD:4 Relays  +  1 KeyCurtain   |   64:CDCDKD:2 Curtain  +  1 KeyCurtain   |   65:REDRRD:3 Relays  +  1 KeyFancoil   |   66:SFDSSD:3 SenKey  +  1 Fancoil"
#define DEVICE_VARIANT_4 "41:RRRR:4 Relays                  |   42:CDCD:2 Curtain                               |   43:RRCD:2 Relays  +  1 Curtain        |   44:FDDD:1 Fancoil"
#define DEVICE_VARIANT_2 "21:RR:2 Relays                    |   22:CD:1 Curtain"
#if MAX_TOUCHKEY == 2
#define DEVICE_VARIANT DEVICE_VARIANT_2
#define DEVICE_VARIANTDEFAULT 0x21
#elif MAX_TOUCHKEY == 4
#define DEVICE_VARIANT DEVICE_VARIANT_4
#define DEVICE_VARIANTDEFAULT 0x41
#else
#define DEVICE_VARIANT DEVICE_VARIANT_6
#define DEVICE_VARIANTDEFAULT 0x61
#endif


byte _Dvc_Variant = DEVICE_VARIANTDEFAULT;
//===========================================================================================
//                                       Global Vars
//===========================================================================================
void Dvc__RelayControl();


//===========================================================================================
//                              PROGMEM Files  ( HTML & CSS & JS )
//===========================================================================================

/*---- Tuning.js ----*/
const char PROGMEM_JS_TUNING1[] PROGMEM = "if(!window.ST)window.ST={};ST.Prepare=function(){ST.Tuning_Show()};ST.Tuning_Show=function(){Tool_PageShow('#ST_Page_Touch')};ST.Tuning_Save=function(){};ST.Loaded=true;";

const char* const PROGMEM_JS_TUNING[] PROGMEM = {
  PROGMEM_JS_TUNING1
};
const byte maxPROGMEM_JS_TUNING = 1;



/*---- Setting.js ----*/
const char PROGMEM_JS_SETTING1[] PROGMEM = "if(!window.SS)window.SS={};SS.SetOptions=function(){if(window.OPT===undefined)window.OPT={};try{OPT.develope=OPT.develope?true:false;OPT.dvcBrand=OPT.dvcBrand||'AIRNGIN';OPT.urlBrand=(OPT.urlBrand)||(OPT.dvcBrand.toLowerCase()=='AIRNGIN'?'https://AIRNGIN.com':'https://AIRNGIN.com');OPT.token=OPT.token||'abc123';OPT.isnew=OPT.isnew||'false';OPT.dvcHardware=(','+(OPT.dvcHardware||'')+',').toLowerCase();OPT.maxRelay=Number('0'+OPT.maxRelay)||18;OPT.maxThermolink=Number('0'+OPT.maxThermolink)||6;OPT.maxDigital=Number('0'+OPT.maxDigital)||20;OPT.maxRf433Direct=OPT.maxRelay*2;OPT.maxRf433Status=Number('0'+OPT.maxRf433Status)||20;OPT.maxScenario=Number('0'+OPT.maxScenario)||20;OPT.maxScenarioVirtual=Number('0'+OPT.maxScenarioVirtual)||3;OPT.maxScenarioCode=Number('0'+OPT.maxScenarioCode)||3;OPT.maxScenarioRelay=Number('0'+OPT.maxScenarioRelay)||18;OPT.maxScenarioGSM=Number('0'+OPT.maxScenarioGSM)||3;OPT.maxRunsenDigital=Number('0'+OPT.maxRunsenDigital)||20;OPT.maxRunsenVirtual=Number('0'+OPT.maxRunsenVirtual)||20;OPT.maxRunsenCode=Number('0'+OPT.maxRunsenCode)||10;OPT.maxRunsenLinked=Number('0'+OPT.maxRunsenLinked)||10;OPT.maxRunsenRf433=Number('0'+OPT.maxRunsenRf433)||30;OPT.maxRunsenGSM=Number('0'+OPT.maxRunsenGSM)||20;OPT.defaultChannelRelay=Number('0'+(OPT.defaultChannelRelay||101));OPT.defaultChannelDigital=Number('0'+(OPT.defaultChannelDigital||201));OPT.projectCode=OPT.projectCode||'';OPT.encryptionKey=OPT.encryptionKey||'';OPT.circuit=((OPT.circuit||'')+'').toLowerCase().replace(/[^a-z]/g,'');OPT.extender=Number(('0'+OPT.extender).replace(/[^0-9]/g,''))+'';OPT.mqttBroker=OPT.mqttBroker||'';OPT.mqttUser=OPT.mqttUser||'';OPT.mqttPass=OPT.mqttPass||'';OPT.meshChannel=OPT.meshChannel||'';OPT.meshName=OPT.meshName||'';OPT.meshPass=OPT.meshPass||'';OPT.modemChannel=OPT.modemChannel||'';OPT.modemSsid=OPT.modemSsid||'';OPT.modemPass=OPT.modemPass||'';OPT.serial=OPT.serial||'0000000000';OPT.dvc=OPT.dvc||'no details';OPT.dvcType=((OPT.dvcType||'unknown')+'').toLowerCase().replace(/[^a-z^0-9]/g,'');OPT.updateUrl=OPT.updateUrl||'https://AIRNGIN.COM';OPT.firmware=OPT.firmware||'1.00';OPT.cpuTemp=OPT.cpuTemp||'unknown'}catch(x){}console.log('---------------------');console.log('OPTIONS',OPT);console.log('---------------------')};SS.Prepare=function(){var k,v,i,j,t,d,dvc,sen;var loadData=function(data){data=Tool_JsonCorrect(data);console.log('JSON Response:',Tool_ObjClone(data));if(!data){Tool_MsgShow(lang_text['SG_DataCannotLoad']);return}try{var v,s,i,j,id,dvc;if(data.scenario){for(i in data.scenario){try{v=data.scenario[i];id=Tool_HexToNum(v.id);s={'id':v.id,'act':v.act||'FF','name':((v.name))||('Scenario '+id),'virtual':v.virtual||{},'code':v.code||{},'relay':v.relay||{},'gsm':v.gsm||{}};if(s.act=='FF'){for(j in s.virtual){s.virtual[j].cmd='FF';s.virtual[j].val='';s.virtual[j].delay=0}for(j in s.code){s.code[j].cmd='FF';s.code[j].val='';s.code[j].delay=0}for(j in s.relay){s.relay[j].cmd='FF0000';s.relay[j].delay=0}for(j in s.gsm){s.gsm[j].cmd='FF';s.gsm[j].delay=0}}SS.DB.scenario[id+'']=s}catch(x){}}}if(data.relay){if(data.relay.address){i=1;for(k in data.relay.address){try{dvc=data.relay.address[k];if(dvc){SS.DB.relay.address[k]={'type':dvc.type||'FF','hold':Number(dvc.hold)||0,'sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1,'ch':Number(dvc.ch)||i};if(dvc.type=='09')SS.DB.relay.address[k].hold=Tool_TimeToNum(Tool_NumToTime(dvc.hold),2)}i++}catch(x){}}}}if(data.thermolink){if(data.thermolink.address){for(k in data.thermolink.address){try{dvc=data.thermolink.address[k];if(dvc){dvc.sensorAddress=((dvc.sensorAddress||'')+'').replace(/[^0-9^A-Z^a-z]/g,'');dvc.relay=((dvc.relay||'FF')+'').toUpperCase().replace(/[^0-9^A-F]/g,'');if(dvc.sensorAddress.length<6||dvc.relay.length!=2||dvc.relay.length=='FF'){SS.DB.thermolink.address[k]={'relay':'FF','setmode':'00','setpoint':24,'sensorAddress':''}}else{dvc.setmode=(dvc.setmode=='01'||dvc.setmode=='02'?dvc.setmode:'00');SS.DB.thermolink.address[k]={'relay':dvc.relay,'setmode':dvc.setmode,'setpoint':Number(dvc.setpoint+'')||24,'sensorAddress':dvc.sensorAddress}}}}catch(x){}}}}if(data.digital){if(data.digital.address){try{i=1;for(k in data.digital.address){dvc=data.digital.address[k];if(dvc){SS.DB.digital.address[k]={'type':dvc.type||'FF','use':dvc.use||'FF','sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1,'ch':Number(dvc.ch)||i}}i++}}catch(x){}}if(data.digital.runSen){for(k in data.digital.runSen){try{sen=data.digital.runSen[k];if(sen){SS.DB.digital.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'FF','act':sen.act||'FF','sen':sen.sen||'FF'}}}catch(x){}}}}if(data.gsm){if(data.gsm.address){dvc=data.gsm.address;if(dvc){SS.DB.gsm.address={'type':dvc.type||'FF','sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1,'ch':Number(dvc.ch)||31}}}if(data.gsm.phone){i=0;for(k in data.gsm.phone)SS.DB.gsm.phone[i++]=data.gsm.phone[k]||''}if(data.gsm.runSen){for(k in data.gsm.runSen){sen=data.gsm.runSen[k];if(sen){SS.DB.gsm.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'FF','act':sen.act||'FF','sen':sen.sen||'FF'}}}}}if(data.rf433){if(data.rf433.address){dvc=data.rf433.address;if(dvc){SS.DB.rf433.address={'type':dvc.type||'FF','sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1,'ch':Number(dvc.ch)||250}}}if(data.rf433.relayState){for(k in data.rf433.relayState)SS.DB.rf433.relayState[k]=data.rf433.relayState[k]||'FF'}if(data.rf433.statusState){for(k in data.rf433.statusState)SS.DB.rf433.statusState[k]=data.rf433.statusState[k]||'FF'}if(data.rf433.runSen){for(k in data.rf433.runSen){sen=data.rf433.runSen[k];if(sen){SS.DB.rf433.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'FF','act':sen.act||'FF','sen':sen.sen||'FF'}}}}}if(data.virtual){try{if(data.virtual.runSen){for(k in data.virtual.runSen){sen=data.virtual.runSen[k];if(sen){SS.DB.virtual.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'FF','act':sen.act||'FF','sen':sen.sen||'FF'}}}}}catch(x){}}if(data.code){try{if(data.code.runSen){for(k in data.code.runSen){sen=data.code.runSen[k];if(sen){SS.DB.code.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'FF','act':sen.act||'FF','sen':sen.sen||'FF'}}}}}catch(x){}}if(data.linked){try{if(data.linked.sensor&&data.linked.sensor.address){dvc=data.linked.sensor.address;if(dvc)SS.DB.linked.sensor.address={'type':dvc.type||'FF','sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1}}if(data.linked.rf433&&data.linked.rf433.address){dvc=data.linked.rf433.address;if(dvc)SS.DB.linked.rf433.address={'type':dvc.type||'FF','sub':Number(dvc.sub)||0,'ad':Number(dvc.ad)||1,'ch':Number(dvc.ch)||255}}if(data.linked.runSen){for(k in data.linked.runSen){sen=data.linked.runSen[k];if(sen){SS.DB.linked.runSen[k]={'dvc':sen.dvc||'FF','con':sen.con||'==','min':Number(sen.min)||0,'max':Number(sen.max)||0,'act':sen.act||'FF','sen':sen.sen||'FF'}}}}}catch(x){}}}catch(x){}SS.AddressRelay_Show();try{SS.AddressDigital_Show()}catch(x){}try{SS.AddressRF433_Show()}catch(x){}try{SS.AddressGSM_Show()}catch(x){}SS.AddressRelay_Show()};var loadErr=function(r){console.log('Ajax Err:',r);Tool_MsgShow(lang_text['SG_Disconnect']);SG.Selection_Show();if(OPT.develope)loadData(OPT.TestSS)};if(SS.DB===undefined){SS.Data.AddressDef={sub:0,ad:1};var _Sub=SS.Data.AddressDef.sub,_Ad=SS.Data.AddressDef.ad;SS.DB={scenario:{},relay:{allType:{'00':'Relay','09':'Relay Remote','08':'Siren','02':'Curtain','03':'Fancoil','04':'Cooler','19':'Thermostat 0 Pipe','17':'Thermostat 1 Pipe','18':'Thermostat 2 Pipe','FF':'Unused'},address:{}},thermolink:{allType:{'04':'Cooler','03':'Fancoil','19':'Thermostat 0 Pipe','17':'Thermostat 1 Pipe','18':'Thermostat 2 Pipe','FF':'Unused'},address:{}},digital:{allType:{'01':'1 State','16':'2 State','15':'Toggle','FF':'Unused'},address:{},runSen:{}},gsm:{allType:{'07':'GSM (SMS)','FF':'Unused'},phone:['','',''],address:{type:'07',sub:_Sub,ad:_Ad,ch:31},runSen:{}},rf433:{allType:{'13':'Remote Status','14':'Remote Toggle','FF':'Unused'},address:{type:'13',sub:_Sub,ad:_Ad,ch:250},relayState:{},statusState:{},runSen:{}},virtual:{address:{sub:0,ad:254,ch:252},runSen:{}},code:{runSen:{}},linked:{sensor:{address:{type:'FF',sub:0,ad:0}},rf433:{address:{type:'FF',sub:0,ad:0,ch:0}},runSen:{}}};d='digital,relay'.split(',');for(j=0;j<d.length;j++){for(k in SS.DB[d[j]].allType)SS.DB";
const char PROGMEM_JS_SETTING2[] PROGMEM = "[d[j]].allType[SS.DB[d[j]].allType[k]]=k}for(i=1;i<=OPT.maxScenario;i++)SS.DB.scenario[i]={id:Tool_NumToHex(i,1),act:'FF',name:'scenario '+i,relay:{},gsm:{},virtual:{},code:{}};for(i=1;i<=OPT.maxRunsenDigital;i++)SS.DB.digital.runSen[i]={dvc:'FF',con:'FF',act:'FF',sen:'FF'};for(i=1;i<=OPT.maxRunsenGSM;i++)SS.DB.gsm.runSen[i]={dvc:'FF',con:'FF',act:'FF',sen:'FF'};for(i=1;i<=OPT.maxRunsenRf433;i++)SS.DB.rf433.runSen[i]={dvc:'FF',con:'FF',act:'FF',sen:'FF'};for(i=1;i<=OPT.maxRunsenVirtual;i++)SS.DB.virtual.runSen[i]={dvc:'FF',con:'FF',act:'FF',sen:'FF'};for(i=1;i<=OPT.maxRunsenCode;i++)SS.DB.code.runSen[i]={dvc:'FF',con:'',act:'FF',sen:'FF'};for(i=1;i<=OPT.maxRunsenLinked;i++)SS.DB.linked.runSen[i]={dvc:'FF',con:'==',min:0,max:0,act:'FF',sen:'FF'};for(i=1;i<=OPT.maxDigital;i++)SS.DB.digital.address[i]={type:'16',use:(i<=OPT.maxRelay?Tool_NumToHex(i):'FE'),sub:_Sub,ad:_Ad,ch:OPT.defaultChannelDigital+i-1};for(i=1;i<=OPT.maxRelay;i++)SS.DB.relay.address[i]={type:'00',hold:0,sub:_Sub,ad:_Ad,ch:OPT.defaultChannelRelay+i-1};for(i=1;i<=OPT.maxThermolink;i++)SS.DB.thermolink.address[i]={relay:'FF',setmode:'00',setpoint:24,sensorAddress:''};for(i=1;i<=OPT.maxRf433Status;i++)SS.DB.rf433.statusState[i]='FF';for(i=1;i<=OPT.maxRf433Direct;i++)SS.DB.rf433.relayState[i]='FF';t=$('.SS-PageSelector-Template')[0].innerHTML.replace('-xxx','');d=$('.SS-PageSelector-TempHolder');for(j=0;j<d.length;j++)d[j].innerHTML=t;console.log('SS.DB Def:',Tool_ObjClone(SS.DB));Tool_PageGet({section:'setting',requestMode:'all'},loadData,loadErr);console.log('SS.DB Final:',Tool_ObjClone(SS.DB))}else{SS.AddressRelay_Show()}};SS.PageSelector_Change=function(v){switch(v){case'AddressRelay':SS.AddressRelay_Show();break;case'Scenario':SS.Scenario_Show();break;case'RunsenVirtual':SS.Runsen_ChooseFirstReady();break;case'SettingBackup':SS.SettingBackup_Show();break}};SS.PageSelector_Set=function(v){var i,ps=$('.SS-PageSelector');for(i=0;i<ps.length;i++)ps[i].value=v};SS.AddressRelay_Show=function(){var i,j,invalid,e,v,d='',t=$('.SS-AddressRelay-Template')[0].innerHTML.replace('-xxx','');for(i=1;i<=OPT.maxRelay;i++)d+=t.replace(/#/g,''+i);$('.SS-AddressRelay-TempHolder')[0].innerHTML=d;invalid={};for(i=1;i<=OPT.maxRelay;i++){invalid[i]=[(i>OPT.maxRelay-(OPT.maxRelay%5)?'thermostat2':''),(i>OPT.maxRelay-(OPT.maxRelay%4)?'thermostat1':''),(i>OPT.maxRelay-(OPT.maxRelay%3)?'thermostat0 fancoil cooler':''),(i>OPT.maxRelay-(OPT.maxRelay%2)?'curtain':'')].join(' ').trim().replace(/ +/g,',')}console.log('invalid',invalid);for(i in invalid){d=invalid[i].split(',');for(j=0;j<d.length;j++){e=$('#SS_AddressRelay_Type'+i+' option.'+d[j]+'-remove')[0];if(e)e.outerHTML=''}}SS.PageSelector_Set('AddressRelay');SS.AddressRelay_Refresh();Tool_PageShow('#SS_Page_AddressRelay',1)};SS.AddressRelay_Refresh=function(){var i,j,k,v,typ,e,r,dig=SS.DB.digital.address,gsm=SS.DB.gsm.address,rf=SS.DB.rf433.address,relay=SS.DB.relay.address,p=$('#SS_Page_AddressRelay')[0];$('.wrong,.linked-relay,.address-double1,.address-double2',p).removeClass('wrong linked-relay address-double1 address-double2');$('*:disabled',p).removeAttr('disabled');var isLinked=function(n){var j,cls='';if(!cls&&gsm.type!=='FF'&&relay[n].sub==gsm.sub&&relay[n].ad==gsm.ad&&relay[n].ch==gsm.ch)cls='wrong';if(!cls&&rf.type!=='FF'&&relay[n].sub==rf.sub&&relay[n].ad==rf.ad&&relay[n].ch==rf.ch)cls='wrong';if(!cls){for(j=1;j<=OPT.maxDigital;j++){if(dig[j].type!=='FF'&&dig[j].use==='FE'&&relay[n].sub==dig[j].sub&&relay[n].ad==dig[j].ad&&relay[n].ch==dig[j].ch){cls='address-double2';break}}}if(!cls){for(j=1;j<=OPT.maxRelay;j++){if(relay[j].type==='FF')continue;if(j==n){j+=(relay[j].type=='02'?2:relay[j].type=='03'?3:relay[j].type=='04'?3:relay[j].type=='19'?3:relay[j].type=='17'?4:relay[j].type=='18'?5:1)-1;continue}if(relay[n].sub==relay[j].sub&&relay[n].ad==relay[j].ad&&relay[n].ch==relay[j].ch){cls='address-double1';break}}}if(cls)$('#SS_AddressRelay_Sub'+n+',#SS_AddressRelay_Ad'+n+',#SS_AddressRelay_Ch'+n).addClass(cls)};var disableRow=function(n,org,canChange){var el=$('#SS_AddressRelay_Type'+n)[0];if(!el)return;el.value=relay[n].type=org.type;if(!canChange)el.setAttribute('disabled','disabled');el=$('#SS_AddressRelay_Hold'+n)[0];el.style.visibility='hidden';el.value=relay[n].hold=org.hold=0;el.setAttribute('disabled','disabled');el=$('#SS_AddressRelay_Sub'+n)[0];el.value=relay[n].sub=org.sub;el.setAttribute('disabled','disabled');el=$('#SS_AddressRelay_Ad'+n)[0];el.value=relay[n].ad=org.ad;el.setAttribute('disabled','disabled');el=$('#SS_AddressRelay_Ch'+n)[0];el.value=relay[n].ch=org.ch;el.setAttribute('disabled','disabled')};for(i=1;i<=OPT.maxRelay;i++){typ=relay[i].type;if(SS.DB.relay.allType[typ]===undefined)typ='FF';if(typ=='FF'){disableRow(i,{type:'FF',hold:0,sub:relay[i].sub,ad:relay[i].ad,ch:255},true);continue}e=$('#SS_AddressRelay_Type'+i)[0];e.value=typ;e.removeAttribute('disabled');e=$('#SS_AddressRelay_Hold'+i)[0];e.style.visibility=(typ=='09'?'visible':'hidden');if(typ=='09'){relay[i].hold=Tool_TimeToNum(Tool_NumToTime(relay[i].hold),2)}else{relay[i].hold=0}e.value=Tool_NumToTime(relay[i].hold);e.removeAttribute('disabled');e=$('#SS_AddressRelay_Sub'+i)[0];e.value=relay[i].sub;e.removeAttribute('disabled');e=$('#SS_AddressRelay_Ad'+i)[0];e.value=relay[i].ad;e.removeAttribute('disabled');e=$('#SS_AddressRelay_Ch'+i)[0];if(relay[i].ch>=255)relay[i].ch=(OPT.defaultChannelRelay+i-1);e.value=relay[i].ch;e.removeAttribute('disabled');isLinked(i);switch(typ){case'02':disableRow(i+1,relay[i]);i+=1;break;case'03':case'04':case'19':disableRow(i+1,relay[i]);disableRow(i+2,relay[i]);i+=2;break;case'17':disableRow(i+1,relay[i]);disableRow(i+2,relay[i]);disableRow(i+3,relay[i]);i+=3;break;case'18':disableRow(i+1,relay[i]);disableRow(i+2,relay[i]);disableRow(i+3,relay[i]);disableRow(i+4,relay[i]);i+=4;break}}};SS.AddressRelay_TypeChange=function(e,i){var n1,n2,n3,n4,t1,t2,t3,t4,oldTyp,n=i,m=',02,03,04,19,17,18,',newTyp=(e.value||'00')+'',relay=SS.DB.relay.address,oldDB=JSON.stringify(SS.DB.relay);if(newTyp=='02'){if(n%2==0)n--}else if(newTyp=='03'||newTyp=='04'||newTyp=='19'){var d=(n%3);if(d==0)n-=2;else if(d==2)n-=1}else if(newTyp=='17'){var d=(n%4);if(d==0)n-=3;else if(d==2||d==3)n-=(d-1)}else if(newTyp=='18'){var d=(n%5);if(d==0)n-=4;else if(d==2||d==3||d==4)n-=(d-1)}n1=n+1;n2=n+2;n3=n+3;n4=n+4;oldTyp=relay[n].type;if(m.indexOf(','+newTyp+',')<0){relay[n].type=newTyp}else{if(newTyp=='02'&&n<=OPT.maxRelay-1){t1=relay[n1].type;if(m.indexOf(','+t1+',')<0&&m.indexOf(','+oldTyp+',')<0)relay[n].type=newTyp}else if((newTyp=='03'||newTyp=='04'||newTyp=='19')&&n<=OPT.maxRelay-2){t1=relay[n1].type;t2=relay[n2].type;if(m.indexOf(','+t1+',')<0&&m.indexOf(','+t2+',')<0&&m.indexOf(','+oldTyp+',')<0)relay[n].type=newTyp}else if(newTyp=='17'&&n<=OPT.maxRelay-3){t1=relay[n1].type;t2=relay[n2].type;t3=relay[n3].type;if(m.indexOf(','+t1+',')<0&&m.indexOf(','+t2+',')<0&&m.indexOf(','+t3+',')<0&&m.indexOf(','+oldTyp+',')<0)relay[n].type=newTyp}else if(newTyp=='18'&&n<=OPT.maxRelay-4){t1=relay[n1].type;t2=relay[n2].type;t3=relay[n3].type;t4=relay[n4].type;if(m.indexOf(','+t1+',')<0&&m.indexOf(','+t2+',')<0&&m.indexOf(','+t3+',')<0&&m.indexOf(','+t4+',')<0&&m.indexOf(','+oldTyp+',')<0)relay[n].type=newTyp}}if(oldTyp!=newTyp&&relay[n].type==newTyp){if(relay[n].ch>=255)relay[n].ch=(OPT.defaultChannelRelay+n-1);if(oldTyp=='02'){relay[n1].type='00';relay[n1].ch=(OPT.defaultChannelRelay+n1-1)}else if(oldTyp=='03'||oldTyp=='04'||oldTyp=='19'){relay[n1].type='00';relay[n1].ch=(OPT.defaultChannelRelay+n1-1);relay[n2].type='00';relay[n2].ch=(OPT.defaultChannelRelay+n2-1)}else if(oldTyp=='17'){relay[n1].type='00';relay[n1].ch=(OPT.defaultChannelRelay+n1-1);relay[n2].type='00';relay[n2].ch=(OPT.defaultChannelRelay+n2-1);relay[n3].type='00';relay[n3].ch=(OPT.defaultChannelRelay+n3-1)}else if(oldTyp=='18'){relay[n1].type='00';relay[n1].ch=(OPT.defaultChannelRelay+n1-1);relay[n2].type='00';relay[n2].ch=(OPT.defaultChannelRelay+n2-1);relay[n3].type='00';relay[n3].ch=(OPT.defaultChannelRelay+n3-1);relay[n4].type='00';relay[n4].ch=(OPT.defaultChannelRelay+n4-1)}}SS.AddressRelay_Refresh();if(oldDB==JSON.stringify(SS.DB.relay))Tool_MsgShow(lang_text['SS_AddressRelay_FreeChainedCoils'";
const char PROGMEM_JS_SETTING3[] PROGMEM = "].replace('@1@',+n+', '+n1+(newTyp=='03'||newTyp=='04'||newTyp=='19'?', '+n2:newTyp=='17'?', '+n2+', '+n3:newTyp=='18'?', '+n2+', '+n3+', '+n4:'')))};SS.AddressRelay_NumChange=function(i){var e,v,relay=SS.DB.relay.address;e=$('#SS_AddressRelay_Sub'+i)[0];v=Number('0'+e.value);relay[i].sub=e.value=(v<=0?0:v>254?254:v);e=$('#SS_AddressRelay_Ad'+i)[0];v=Number('0'+e.value);relay[i].ad=e.value=(v<=0?0:v>250?250:v);e=$('#SS_AddressRelay_Ch'+i)[0];v=Number('0'+e.value);relay[i].ch=e.value=(v<=0?0:v>254?254:v);e=$('#SS_AddressRelay_Hold'+i)[0];if(relay[i].type=='09')v=Tool_TimeToNum(e.value,2);else v=0;relay[i].hold=v;SS.AddressRelay_Refresh()};SS.AddressRelay_Save=function(){if($('.wrong',$('#SS_Page_AddressRelay')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongAddress']);return}var i,q={relay:{address:SS.DB.relay.address}};q.section='setting';q.requestMode='address';q.dvc='relay';Tool_PageSend(q)};SS.AddressThermolink_Show=function(){var i,r,d,t=$('.SS-AddressThermolink-Template')[0].innerHTML.replace('-xxx',''),relay=SS.DB.relay.address;d='<option selected value='+charQuotation2+'FF'+charQuotation2+'> - </option>';for(i=1;i<=OPT.maxRelay;i++){if(relay[i].type!=='19'&&relay[i].type!=='17'&&relay[i].type!=='18')continue;r=i;v=' &nbsp; '+SS.DB.relay.allType[relay[i].type];if(relay[i].type=='19')v='R'+i+'..'+(i=i+2)+''+v;else if(relay[i].type=='17')v='R'+i+'..'+(i=i+3)+''+v;else if(relay[i].type=='18')v='R'+i+'..'+(i=i+4)+''+v;else v='R'+i+''+v;d+='<option value='+charQuotation2+Tool_NumToHex(r)+charQuotation2+'>'+v+'</option>'}t=t.replace('@dvcOption@',d);d='';for(i=1;i<=OPT.maxThermolink;i++)d+=t.replace(/#/g,''+i);$('.SS-AddressThermolink-TempHolder')[0].innerHTML=d;SS.AddressThermolink_Refresh();SS.PageSelector_Set('AddressRelay');SS.AddressRelay_Refresh();Tool_PageShow('#SS_Page_AddressThermolink')};SS.AddressThermolink_Refresh=function(){var i,v,d,er,em,es,ea,duplicated=',',thermo=SS.DB.thermolink.address,p=$('#SS_Page_AddressThermolink')[0],id='#SS_AddressThermolink_';$('.wrong,.hide',p).removeClass('wrong hide');$('*:disabled',p).removeAttr('disabled');console.log('thermo',thermo);for(i=1;i<=OPT.maxThermolink;i++){er=$(id+'Relay'+i)[0];em=$(id+'Setmode'+i)[0];es=$(id+'Setpoint'+i)[0];ea=$(id+'Address'+i)[0];d=thermo[i];er.value=d.relay;if(d.relay=='FF'){em.setAttribute('disabled','disabled');es.setAttribute('disabled','disabled');ea.setAttribute('disabled','disabled');em.value='00';es.value='';ea.value=''}else{if(duplicated.indexOf(d.relay+',')>0)$(er).addClass('wrong');else duplicated+=d.relay+',';if(d.setmode!=='01'&&d.setmode!=='02')d.setmode='00';em.value=d.setmode;if(d.setmode=='00'){es.setAttribute('disabled','disabled');ea.setAttribute('disabled','disabled')}es.value=Number('0'+d.setpoint)||24;v=(d.sensorAddress||'')+'';v=v.replace(/[^0-9^A-Z^a-z]/g,'');if(v.replace(/[^0-9^A-F]/g,'').length<=6){v=v.toUpperCase().replace(/[^0-9^A-F]/g,'');if(v.length%2==1)v='0'+v;if(v.length>6)v=v.substr(0,6);else if(v.length==4)v+='01'}if(v.length!=6&&v.length!=14)$(ea).addClass('wrong');else if(v.length==6)v='S='+Tool_HexToNum(v.substr(0,2))+'   A='+Tool_HexToNum(v.substr(2,2))+'   Ch='+Tool_HexToNum(v.substr(4,2));ea.value=v}}for(i=OPT.maxThermolink;i>=2;i--){if(thermo[i-1].relay=='FF'&&thermo[i].relay=='FF')$('#SS_AddressThermolink_'+i).addClass('hide');else break}};SS.AddressThermolink_Change=function(i){var v,tmp,er,em,es,ea,id='#SS_AddressThermolink_',d=SS.DB.thermolink.address[i];er=$(id+'Relay'+i)[0];em=$(id+'Setmode'+i)[0];es=$(id+'Setpoint'+i)[0];ea=$(id+'Address'+i)[0];if(d.relay!==er.value){d.relay=er.value}else if(d.setmode!==em.value){d.setmode=em.value}else if(d.setpoint!==Number('0'+es.value)){v=Number(es.value)||24;d.setpoint=(v<16?16:v>32?32:v)}else{v=((ea.value||'')+'').replace(/( *\\= *)+/g,'=').replace(/([SsAa]{1} *\\=)|([Cc]{1}[Hh]{1} *\\=)/g,' ').replace(/[^0-9^A-Z^a-z]/g,' ').replace(/ {2,}/g,' ').trim();if(v.indexOf(' ')>0){tmp=v.replace(/[^0-9^ ]/g,'');if(v===tmp){tmp=v.replace(/[^0-9]/g,' ').replace(/ {2,}/g,' ').trim().split(' ');if(tmp.length>=2){tmp[0]=Number(tmp[0])||0;tmp[1]=Number(tmp[1])||0;tmp[2]=(tmp.length==2?1:Number(tmp[2])||0);v=Tool_NumToHex(tmp[0]>255?255:tmp[0])+Tool_NumToHex(tmp[1]>255?255:tmp[1])+Tool_NumToHex(tmp[2]>255?255:tmp[2])}}else v=v.replace(/ +/g,'')}if((v.length==6||v.length==4)&&v===v.replace(/[E-Ze-z]/g,'')){v=v.toUpperCase()+(v.length==4?'01':'')}d.sensorAddress=(v.length>14?v.substr(0,14):v)}SS.AddressThermolink_Refresh()};SS.AddressThermolink_Save=function(){var i,tmp=[],d=SS.DB.thermolink.address;if($('.wrong',$('#SS_Page_AddressThermolink')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongAddress']);return}for(i=1;i<=OPT.maxThermolink;i++){if(d[i].relay&&d[i].relay!=='FF'&&d[i].sensorAddress!=='')tmp.push(d[i])}for(i=1;i<=OPT.maxThermolink;i++){d[i]=(i<=tmp.length?tmp[i-1]:{relay:'FF',setmode:'00',setpoint:24,sensorAddress:''})}SS.AddressThermolink_Refresh();var q={thermolink:{address:SS.DB.thermolink.address}};q.section='setting';q.requestMode='address';Tool_PageSend(q)};SS.AddressDigital_Show=function(){var i,o='',d='',t=$('.SS-AddressDigital-Template')[0].innerHTML.replace('-xxx','');for(i=1;i<=OPT.maxDigital;i++)d+=t.replace(/#/g,''+i);o=$('.SS-AddressDigitalOptionS-Template')[0].innerHTML;t=$('.SS-AddressDigitalOptionR-Template')[0].innerHTML;for(i=1;i<=OPT.maxRelay;i++)if(SS.DB.relay.address[i].type!=='FF')o+=t.replace(/#/g,''+i).replace(/@value@/g,Tool_NumToHex(i));$('.SS-AddressDigital-TempHolder')[0].innerHTML=d.replace(/@options_dvc@/g,o);SS.PageSelector_Set('AddressRelay');SS.AddressDigital_Refresh();Tool_PageShow('#SS_Page_AddressDigital')};SS.AddressDigital_Refresh=function(){var i,j,r,oldUse,found,cls,et,eu,es,ea,ec,dig=SS.DB.digital.address,relay=SS.DB.relay.address,gsm=SS.DB.gsm.address,rf=SS.DB.rf433.address,p=$('#SS_Page_AddressDigital')[0],id='#SS_AddressDigital_';$('.wrong,.linked-relay,.address-double1,.address-double2',p).removeClass('wrong linked-relay address-double1 address-double2');$('*:disabled',p).removeAttr('disabled');for(i=1;i<=OPT.maxDigital;i++){et=$(id+'Type'+i)[0];eu=$(id+'Use'+i)[0];es=$(id+'Sub'+i)[0];ea=$(id+'Ad'+i)[0];ec=$(id+'Ch'+i)[0];d=dig[i];if(SS.DB.digital.allType[d.type]===undefined)d.type='FF';et.value=d.type;if(d.type=='FF'){d.use='FF';d.ch=255;eu.setAttribute('disabled','disabled');es.setAttribute('disabled','disabled');ea.setAttribute('disabled','disabled');ec.setAttribute('disabled','disabled')}else{oldUse=d.use+'';if(d.use==='FF')d.use=Tool_NumToHex(i);found=false;for(r=1;r<=OPT.maxRelay;r++){if(relay[r].type!='FF'){if(d.use==Tool_NumToHex(r)){d.sub=relay[r].sub;d.ad=relay[r].ad;d.ch=relay[r].ch;found=true;break}}}if(!found)d.use='FE';if(d.use==='FE'){if(d.ch==255)d.ch=(OPT.defaultChannelDigital+i-1);cls='';if(!cls&&gsm.type!=='FF'&&d.sub==gsm.sub&&d.ad==gsm.ad&&d.ch==gsm.ch)cls='wrong';if(!cls&&rf.type!=='FF'&&d.sub==rf.sub&&d.ad==rf.ad&&d.ch==rf.ch)cls='wrong';if(!cls){for(j=1;j<=OPT.maxRelay;j++){if(relay[j].typ==='FF')continue;if(d.sub==relay[j].sub&&d.ad==relay[j].ad&&d.ch==relay[j].ch){cls='address-double2';break}}}if(!cls){for(j=1;j<=OPT.maxDigital;j++){if(j==i||dig[j].typ==='FF'||dig[j].use!=='FE')continue;if(d.sub==dig[j].sub&&d.ad==dig[j].ad&&d.ch==dig[j].ch){cls='address-double1';break}}}if(cls){$(es).addClass(cls);$(ea).addClass(cls);$(ec).addClass(cls)}}else{$(eu).addClass('linked-relay');es.setAttribute('disabled','disabled');ea.setAttribute('disabled','disabled');ec.setAttribute('disabled','disabled');cls='';if(!cls){for(j=1;j<=OPT.maxDigital;j++){if(j==i||dig[j].use==='FF'||dig[j].use==='FE')continue;if(d.use==dig[j].use){cls='address-double1';break}}}if(cls){$(eu).addClass(cls)}}if(oldUse!==d.use&&d.use=='FE')d.ch=(OPT.defaultChannelDigital+i-1)}eu.value=d.use;es.value=d.sub;ea.value=d.ad;ec.value=d.ch}};SS.AddressDigital_TypeChange=function(e,i){var dig=SS.DB.digital.address,oldTyp=dig[i].type,newTyp=(e.value||'FF');if(oldTyp!=newTyp&&oldTyp=='FF')dig[i].ch=(OPT.defaultChannelDigital+i-1);dig[i].type=newTyp;SS.AddressDigital_Refresh()};SS.AddressDigital_UseChange=function(e,i){var v=(e.value||'FF'),dig=SS.DB.digital.address;if(v=='FE')dig[i].ch=(OPT.defaultChannelDigital+i-1);dig[i].use=v;";
const char PROGMEM_JS_SETTING4[] PROGMEM = "SS.AddressDigital_Refresh()};SS.AddressDigital_NumChange=function(n){var e,v,dig=SS.DB.digital.address;e=$('#SS_AddressDigital_Sub'+n)[0];v=Number('0'+e.value);dig[n].sub=e.value=(v<=0?0:v>254?254:v);e=$('#SS_AddressDigital_Ad'+n)[0];v=Number('0'+e.value);dig[n].ad=e.value=(v<=0?0:v>250?250:v);e=$('#SS_AddressDigital_Ch'+n)[0];v=Number('0'+e.value);dig[n].ch=e.value=(v<=0?0:v>254?254:v);SS.AddressDigital_Refresh()};SS.AddressDigital_Save=function(){if($('.wrong',$('#SS_Page_AddressDigital')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongAddress']);return}var q={digital:{address:SS.DB.digital.address}};q.section='setting';q.requestMode='address';q.dvc='digital';Tool_PageSend(q)};SS.AddressGSM_Show=function(){SS.PageSelector_Set('AddressRelay');SS.AddressGSM_Refresh();Tool_PageShow('#SS_Page_AddressGSM')};SS.AddressGSM_Refresh=function(){var i,v,t,typ,e,phone=[],gsm=SS.DB.gsm.address,rf=SS.DB.rf433.address,dig=SS.DB.digital.address,relay=SS.DB.relay.address,p=$('#SS_Page_AddressGSM')[0],id='#SS_AddressGSM_';$('.wrong',p).removeClass('wrong');$('*:disabled',p).removeAttr('disabled');var isLinked=function(){for(var r=1;r<=OPT.maxRelay;r++)if(relay[r]&&gsm.sub==relay[r].sub&&gsm.ad==relay[r].ad&&gsm.ch==relay[r].ch&&relay[r].type!='FF')return'relay'+r;for(var r=1;r<=OPT.maxDigital;r++)if(dig[r]&&gsm.sub==dig[r].sub&&gsm.ad==dig[r].ad&&gsm.ch==dig[r].ch&&dig[r].type!='FF')return'digital'+r;if(gsm.sub==rf.sub&&gsm.ad==rf.ad&&gsm.ch==rf.ch&&rf.type!='FF')return'rf';return''};var disableRow=function(){var el=$(id+'Sub')[0];el.setAttribute('disabled','disabled');el.value=gsm.sub;el=$(id+'Ad')[0];el.setAttribute('disabled','disabled');el.value=gsm.ad;el=$(id+'Ch')[0];el.setAttribute('disabled','disabled');el.value=gsm.ch=255};var wrongRow=function(){var el=$(id+'Sub')[0];$(el).addClass('wrong');el.value=gsm.sub;el=$(id+'Ad')[0];$(el).addClass('wrong');el.value=gsm.ad;el=$(id+'Ch')[0];$(el).addClass('wrong');el.value=gsm.ch};var normalRow=function(){$(id+'Sub')[0].value=gsm.sub;$(id+'Ad')[0].value=gsm.ad;$(id+'Ch')[0].value=gsm.ch};e=$(id+'Type')[0];typ=gsm.type;if(SS.DB.gsm.allType[typ]===undefined)typ='FF';e.value=gsm.type=typ;if(typ=='FF'){disableRow()}else{t=isLinked();if(t!=='')wrongRow();else normalRow()}phone=[];for(i=1;i<=3;i++){v=(SS.DB.gsm.phone[i-1]+'').replace(/[^0-9]/g,'');e=$(id+'Phone'+i)[0];if(v.length>0&&v.length<8)$(e).addClass('wrong');e.value=v;phone.push(v)}SS.DB.gsm.phone=phone};SS.AddressGSM_TypeChange=function(e){var gsm=SS.DB.gsm.address,oldTyp=gsm.type,newTyp=(e.value||'FF');if(oldTyp!=newTyp&&oldTyp=='FF')gsm.ch=31;gsm.type=newTyp;SS.AddressGSM_Refresh()};SS.AddressGSM_NumChange=function(n){var e,v,gsm=SS.DB.gsm.address;e=$('#SS_AddressGSM_Sub')[0];v=Number('0'+e.value);gsm.sub=e.value=(v<=0?0:v>254?254:v);e=$('#SS_AddressGSM_Ad')[0];v=Number('0'+e.value);gsm.ad=e.value=(v<=0?0:v>250?250:v);e=$('#SS_AddressGSM_Ch')[0];v=Number('0'+e.value);gsm.ch=e.value=(v<=0?0:v>254?254:v);SS.AddressGSM_Refresh()};SS.AddressGSM_PhoneChange=function(n){var i,v;SS.DB.gsm.phone=[];for(i=1;i<=3;i++){v=($('#SS_AddressGSM_Phone'+i)[0].value+'').replace(/[^0-9]/g,'');SS.DB.gsm.phone.push(v)}SS.AddressGSM_Refresh()};SS.AddressGSM_Save=function(){var i,d='',wrong=$('.wrong',$('#SS_Page_AddressGSM')[0]);if(wrong.length>0){for(i=0;i<wrong.length;i++)d+=wrong[i].outerHTML;Tool_MsgShow(lang_text[d.indexOf('AddressGSM_NumChange')>0?'SS_Address_CorrectWrongAddress':'SS_Address_CorrectWrongCase']);return}var q={gsm:{address:SS.DB.gsm.address,phone:SS.DB.gsm.phone}};q.section='setting';q.requestMode='address';q.dvc='gsm';Tool_PageSend(q)};SS.AddressGSM_TestCall=function(i){var d=($('#SS_AddressGSM_Phone'+i)[0].value+'').replace(/[^0-9]/g,'');if(d.length>0){var q={section:'setting',requestMode:'command',dvc:'gsm',key:'call',val:d};Tool_PageSend(q)}};SS.AddressGSM_TestRSSI=function(i){var q={section:'setting',requestMode:'command',dvc:'gsm',key:'rssi',val:d};Tool_PageSend(q)};SS.AddressGSM_TestMoney=function(i){var q={section:'setting',requestMode:'command',dvc:'gsm',key:'money',val:d};Tool_PageSend(q)};SS.AddressRF433_Show=function(){var i,d='',t='';t=$('.SS-AddressRF433-Relay-Template')[0].innerHTML.replace('-xxx','');for(i=1;i<=OPT.maxRelay;i++)d+=t.replace(/@RelayRow@/g,lang_text['SS_AddressRF_DirectRelay']+i).replace(/#/g,''+i);for(i=OPT.maxRelay+1;i<=(2*OPT.maxRelay);i++)d+=t.replace(/@RelayRow@/g,lang_text['SS_AddressRF_ConversionRelay']+(i-OPT.maxRelay)).replace(/linked-relay/g,'linked-conversion').replace(/#/g,''+i);$('.SS-AddressRF433-Relay-TempHolder')[0].innerHTML=d;t=$('.SS-AddressRF433-Status-Template')[0].innerHTML.replace('-xxx','');d='';for(i=1;i<=OPT.maxRf433Status;i++)d+=t.replace(/#/g,''+i);$('.SS-AddressRF433-Status-TempHolder')[0].innerHTML=d;SS.PageSelector_Set('AddressRelay');SS.AddressRF433_Refresh();Tool_PageShow('#SS_Page_AddressRF433')};SS.AddressRF433_Refresh=function(){var i,v,t,typ,e,rf=SS.DB.rf433.address,gsm=SS.DB.gsm.address,dig=SS.DB.digital.address,relay=SS.DB.relay.address,p=$('#SS_Page_AddressRF433')[0],id='#SS_AddressRF433_';$('.wrong',p).removeClass('wrong');$('*:disabled',p).removeAttr('disabled');var isLinked=function(){for(var r=1;r<=OPT.maxRelay;r++)if(relay[r]&&rf.sub==relay[r].sub&&rf.ad==relay[r].ad&&rf.ch==relay[r].ch&&relay[r].type!='FF')return'relay'+r;for(var r=1;r<=OPT.maxDigital;r++)if(dig[r]&&rf.sub==dig[r].sub&&rf.ad==dig[r].ad&&rf.ch==dig[r].ch&&dig[r].type!='FF')return'digital'+r;if(gsm.sub==rf.sub&&gsm.ad==rf.ad&&gsm.ch==rf.ch&&rf.type!='FF')return'rf';return''};var disableRow=function(){var el=$(id+'Sub')[0];el.setAttribute('disabled','disabled');el.value=rf.sub;el=$(id+'Ad')[0];el.setAttribute('disabled','disabled');el.value=rf.ad;el=$(id+'Ch')[0];el.setAttribute('disabled','disabled');el.value=rf.ch=255};var wrongRow=function(){var el=$(id+'Sub')[0];$(el).addClass('wrong');el.value=rf.sub;el=$(id+'Ad')[0];$(el).addClass('wrong');el.value=rf.ad;el=$(id+'Ch')[0];$(el).addClass('wrong');el.value=rf.ch};var normalRow=function(){$(id+'Sub')[0].value=rf.sub;$(id+'Ad')[0].value=rf.ad;$(id+'Ch')[0].value=rf.ch};e=$(id+'Type')[0];typ=rf.type;if(SS.DB.rf433.allType[typ]===undefined)typ='FF';e.value=rf.type=typ;if(typ=='FF'){disableRow()}else{t=isLinked();if(t!=='')wrongRow();else normalRow()}for(i=1;i<=OPT.maxRf433Status;i++){v=((SS.DB.rf433.statusState[i+'']||'FF')=='FF'?'-':'Learned');e=$(id+'StatusState'+i)[0];if(e){e.value=v;SS.DB.rf433.statusState[i+'']=(v=='-'?'FF':'01');if(v=='-')e.setAttribute('disabled','disabled')}}for(i=1;i<=OPT.maxRf433Direct;i++){v=((SS.DB.rf433.relayState[i+'']||'FF')=='FF'?'-':'Learned');e=$(id+'RelayState'+i)[0];e.value=v;SS.DB.rf433.relayState[i+'']=(v=='-'?'FF':'01');if(v=='-')e.setAttribute('disabled','disabled')}};SS.AddressRF433_TypeChange=function(e){var rf=SS.DB.rf433.address,oldTyp=rf.type,newTyp=(e.value||'FF');if(oldTyp!=newTyp&&oldTyp=='FF')rf.ch=250;rf.type=newTyp;SS.AddressRF433_Refresh()};SS.AddressRF433_NumChange=function(n){var e,v,rf=SS.DB.rf433.address;e=$('#SS_AddressRF433_Sub')[0];v=Number('0'+e.value);rf.sub=e.value=(v<=0?0:v>254?254:v);e=$('#SS_AddressRF433_Ad')[0];v=Number('0'+e.value);rf.ad=e.value=(v<=0?0:v>250?250:v);e=$('#SS_AddressRF433_Ch')[0];v=Number('0'+e.value);rf.ch=e.value=(v<=0?0:v>254?254:v);SS.AddressRF433_Refresh()};SS.AddressRF433_RelayLearn=function(n,learn){SS.AddressRF433_StatusLearn(100+n,learn)};SS.AddressRF433_StatusLearn=function(n,learn){var row=''+n,clean=(learn?false:true);if(clean&&!confirm(lang_text['SG_CleanSure']))return;var q={section:'setting',requestMode:'command',dvc:'rf433',key:(learn?'learn':'clean'),val:row};Tool_PageSend(q,function(r){if(r)r=Tool_JsonCorrect(r);if(r.result==='ok'){var num=Number('0'+row);if(num>100){row=(num-100)+'';SS.DB.rf433.relayState[row]=(clean?'FF':'01')}else{SS.DB.rf433.statusState[row]=(clean?'FF':'01')}SS.AddressRF433_Refresh()}})};SS.AddressRF433_Save=function(){if($('.wrong',$('#SS_Page_AddressRF433')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongAddress']);return}var q={rf433:{address:SS.DB.rf433.address}};q.section='setting';q.requestMode='address';q.dvc='rf433';Tool_PageSend(q)};SS.Scenario_Show=function(){SS.PageSelector_Set('Scenario');SS.Scenario_Re";
const char PROGMEM_JS_SETTING5[] PROGMEM = "fresh(1);Tool_PageShow('#SS_Page_Scenario')};SS.Scenario_Refresh=function(n){n=(n||'1')+'';var i,j,v,e,el,t,d,typ,sen,s,relay,gsm;$('#SS_Scenario_Selector')[0].innerHTML=SS.Scenario_SelectorOptions(false);$('#SS_Scenario_Selector')[0].value=n;e=$('#SS_Scenario_Name')[0];sen=SS.DB.scenario[n];relay=SS.DB.relay.address;gsm=SS.DB.gsm.address;v=((sen.name||'')+'').replace(/[^_^ ^0-9^A-Z^a-z]/g,'');v=(v?v:'Scenario '+n).substr(0,12);e.value=sen.name=v;t=$('.SS-Scenario-Relay-Template')[0].innerHTML;d='<option selected value='+charQuotation2+'FF'+charQuotation2+'> - </option>';for(i=1;i<=OPT.maxRelay;i++){if(relay[i].type==='FF')continue;v=' &nbsp; '+SS.DB.relay.allType[relay[i].type];if(relay[i].type=='02')v='R'+i+','+(++i)+''+v;else if(relay[i].type=='19'||relay[i].type=='04'||relay[i].type=='03')v='R'+i+'..'+(i=i+2)+''+v;else if(relay[i].type=='17')v='R'+i+'..'+(i=i+3)+''+v;else if(relay[i].type=='18')v='R'+i+'..'+(i=i+4)+''+v;else v='R'+i+''+v;d+='<option value='+charQuotation2+Tool_NumToHex(i)+charQuotation2+'>'+v+'</option>'}t=t.replace('@dvcOption@',d);d='';for(i=1;i<=OPT.maxScenarioRelay;i++)d+=t.replace(/#/g,i);$('.SS-Scenario-Relay-TempHolder')[0].innerHTML=d;for(i=1;i<=OPT.maxScenarioRelay;i++){if(!sen.relay[i])sen.relay[i]={cmd:'FF',val:'FF',delay:0};e=$('#SS_Scenario_RelayType'+i)[0];if(e){e.value=sen.relay[i].cmd+'';$('#SS_Scenario_RelayCmd'+i)[0].value=sen.relay[i].val+'';SS.Scenario_RelayTypeChange(i)}else sen.relay[i]={cmd:'FF',val:'FF',delay:0}}t=$('.SS-Scenario-GSM-Template')[0].innerHTML;d='';for(i=1;i<=3;i++){d+=(t+'').replace(/#/g,i)}$('.SS-Scenario-GSM-TempHolder')[0].innerHTML=d;for(i=1;i<=3;i++){e=$('#SS_Scenario_GSMCmd'+i)[0];if(e){typ=gsm.type+'';if(typ=='FF'){e.value='FF';e.setAttribute('disabled','disabled');el=$('#SS_Scenario_GSMPhone'+i)[0];el.setAttribute('disabled','disabled');el.value='';el=$('#SS_Scenario_GSMVal'+i)[0];el.setAttribute('disabled','disabled');el.value=''}else{if(!sen.gsm[i])sen.gsm[i]={cmd:'FF',phone:'',val:''};e.value=sen.gsm[i].cmd;$('#SS_Scenario_GSMPhone'+i)[0].value=sen.gsm[i].phone;$('#SS_Scenario_GSMVal'+i)[0].value=sen.gsm[i].val;SS.Scenario_GSMChange(i)}}}t=$('.SS-Scenario-Virtual-Template')[0].innerHTML;d='';for(i=1;i<=OPT.maxScenarioVirtual;i++){d+=(t+'').replace(/#/g,i)}$('.SS-Scenario-Virtual-TempHolder')[0].innerHTML=d;for(i=1;i<=OPT.maxScenarioVirtual;i++){e=$('#SS_Scenario_VirtualCmd'+i)[0];if(e){if(!sen.virtual[i])sen.virtual[i]={cmd:'FF',val:'',delay:0};e.value=sen.virtual[i].cmd;$('#SS_Scenario_VirtualVal'+i)[0].value=sen.virtual[i].val;SS.Scenario_VirtualChange(i)}}t=$('.SS-Scenario-Code-Template')[0].innerHTML;d='';for(i=1;i<=OPT.maxScenarioCode;i++){d+=(t+'').replace(/#/g,i)}$('.SS-Scenario-Code-TempHolder')[0].innerHTML=d;for(i=1;i<=OPT.maxScenarioCode;i++){e=$('#SS_Scenario_CodeCmd'+i)[0];if(e){if(!sen.code[i])sen.code[i]={cmd:'FF',val:'',delay:0};e.value=sen.code[i].cmd;$('#SS_Scenario_CodeVal'+i)[0].value=(sen.code[i].cmd=='02'?Tool_HexToStr(sen.code[i].val):sen.code[i].val);SS.Scenario_CodeChange(i)}}SS.Scenario_CommandRowsHideExtra('all')};SS.Scenario_CommandRowsHideExtra=function(mode){mode=((mode||'all')+'').toLowerCase();var i,e,v,max,id;if(mode=='all'||mode=='gsm'){$('.SS-Scenario-GSM-TempHolder .row.hide').removeClass('hide');id='#SS_Scenario_GSMCmd';max=OPT.maxScenarioGSM;v=0;for(i=max;i>=1;i--)if($(id+i)[0].value!=='FF'){v=i;break}for(i=v+2;i<=max;i++)$(id+i).parent().addClass('hide')}if(mode=='all'||mode=='relay'){$('.SS-Scenario-Relay-TempHolder .row.hide').removeClass('hide');id='#SS_Scenario_RelayType';max=OPT.maxScenarioRelay;v=0;for(i=max;i>=1;i--)if($(id+i)[0].value!=='FF'){v=i;break}for(i=v+2;i<=max;i++)$(id+i).parent().addClass('hide')}if(mode=='all'||mode=='virtual'){$('.SS-Scenario-Virtual-TempHolder .row.hide').removeClass('hide');id='#SS_Scenario_VirtualCmd';max=OPT.maxScenarioVirtual;v=0;for(i=max;i>=1;i--)if($(id+i)[0].value!=='FF'){v=i;break}for(i=v+2;i<=max;i++)$(id+i).parent().addClass('hide')}if(mode=='all'||mode=='code'){$('.SS-Scenario-Code-TempHolder .row.hide').removeClass('hide');id='#SS_Scenario_CodeCmd';max=OPT.maxScenarioCode;v=0;for(i=max;i>=1;i--)if($(id+i)[0].value!=='FF'){v=i;break}for(i=v+2;i<=max;i++)$(id+i).parent().addClass('hide')}};SS.Scenario_SelectorOptions=function(actOnly){var i,d='',t='',sen=SS.DB.scenario;t=$('.SS-Scenario_SelectorOption-Template')[0].innerHTML.replace('-xxx','');if(actOnly)d+=t.replace('@value@','FF').replace('@name@','-');for(i in sen){if(actOnly){if(sen[i].act=='FF'){if(i==101)return d;else continue}d+=t.replace('@value@',''+Tool_NumToHex(i)).replace('@name@',''+sen[i].name)}else d+=t.replace('@value@',''+i).replace('@name@',''+sen[i].name)}return d};SS.Scenario_SelectorChange=function(e){SS.Scenario_Refresh(e.value)};SS.Scenario_ScenePart=function(i,prop){var sen=SS.DB.scenario[$('#SS_Scenario_Selector')[0].value];if(!sen.relay)sen.relay={};if(!sen.gsm)sen.gsm={};if(!sen.virtual)sen.virtual={};if(!sen.code)sen.code={};if(prop=='Relay'){if(!sen.relay[i])sen.relay[i]={cmd:'FF',val:'',delay:0}}else if(prop=='GSM'){if(!sen.gsm[i])sen.gsm[i]={cmd:'FF',phone:'',val:'',delay:0}}else if(prop=='Virtual'){if(!sen.virtual[i])sen.virtual[i]={cmd:'FF',val:'',delay:0}}else if(prop=='Code'){if(!sen.code[i])sen.code[i]={cmd:'FF',val:'',delay:0}}return sen};SS.Scenario_RelayTypeChange=function(i){var t,v,o,sen=SS.Scenario_ScenePart(i,'Relay'),ec=$('#SS_Scenario_RelayCmd'+i)[0],et=$('#SS_Scenario_RelayType'+i)[0],eh=$('#SS_Scenario_RelayDelay'+i)[0],typ=(et.value||'FF');if(typ!=='FF'){typ=SS.DB.relay.address[Tool_HexToNum(typ)].type||'FF'}if(ec&&et){if(typ=='FF'){sen.relay[i].cmd=et.value='FF';sen.relay[i].val=ec.value='FF';$(ec).removeClass('wrong');eh.value='';sen.relay[i].delay=0;Tool_DomDisable([ec,eh],true)}else{sen.relay[i].cmd=et.value;ec.innerHTML=$('.SS-Scenario-RelayOptions-Template')[0].innerHTML+'';o=$('option',ec);for(j=0;j<o.length;j++)if((o[j].getAttribute('types')+'').indexOf(','+typ+',')<0)o[j].outerHTML='';ec.value=(sen.relay[i].val||'FF');SS.Scenario_RelayCmdChange(i);eh.value=Tool_NumToTime(sen.relay[i].delay);sen.relay[i].delay=Tool_TimeToNum(eh.value,0);Tool_DomDisable([ec,eh],false)}}else{sen.relay[i]={cmd:'FF',val:'FF',delay:0}}SS.Scenario_CommandRowsHideExtra('relay')};SS.Scenario_RelayCmdChange=function(i){var sen=SS.Scenario_ScenePart(i,'Relay'),ec=$('#SS_Scenario_RelayCmd'+i)[0],v=(ec.value||'FF');if(!Tool_DomHasValue(ec,v))v='FF';ec.value=sen.relay[i].val=v;if(v=='FF'&&$('#SS_Scenario_RelayType'+i)[0].value!=='FF')$(ec).addClass('wrong');else $(ec).removeClass('wrong')};SS.Scenario_RelayDelayChange=function(i){var sen=SS.Scenario_ScenePart(i,'Relay'),eh=$('#SS_Scenario_RelayDelay'+i)[0];sen.relay[i].delay=Tool_TimeToNum(eh.value,0);eh.value=Tool_NumToTime(sen.relay[i].delay)};SS.Scenario_GSMChange=function(i){var sen,v='',e=$('#SS_Scenario_GSMCmd'+i)[0],ep=$('#SS_Scenario_GSMPhone'+i)[0],ev=$('#SS_Scenario_GSMVal'+i)[0],eh=$('#SS_Scenario_GSMDelay'+i)[0],typ=e.value||'FF',phone=SS.DB.gsm.phone;sen=SS.Scenario_ScenePart(i,'GSM');typ=(',01,11,12,13,00,21,22,23,'.indexOf(','+typ+',')<0?'FF':typ);if(typ=='11'||typ=='21'){phone=((phone[0]||'')+'').trim();typ=(typ=='11'?'01':'00')}else if(typ=='12'||typ=='22'){phone=((phone[1]||'')+'').trim();typ=(typ=='12'?'01':'00')}else if(typ=='13'||typ=='23'){phone=((phone[2]||'')+'').trim();typ=(typ=='13'?'01':'00')}else{phone=''}if(phone.length>=8)v=phone;e.value=typ=(typ=='01'||typ=='00'?typ:'FF');if(typ=='01'||typ=='00'){ep.removeAttribute('disabled');if(!ep.value)ep.value=v;eh.removeAttribute('disabled');eh.value=Tool_NumToTime(sen.gsm[i].delay);sen.gsm[i].delay=Tool_TimeToNum(eh.value,0)}else{ep.setAttribute('disabled','disabled');ep.value=(typ=='FF'?'':v);eh.setAttribute('disabled','disabled');eh.value='';sen.gsm[i].delay=0}ep.value=(''+ep.value).replace(/[^0-9]/g,'');if((ep.value+'').length<8&&typ!='FF')$(ep).addClass('wrong');else $(ep).removeClass('wrong');if(typ=='FF'||typ=='00'){ev.value='';ev.setAttribute('disabled','disabled')}else{v=Number('0'+ev.value);ev.value=(v<1?1:v>250?250:v);ev.removeAttribute('disabled')}sen.gsm[i].cmd=e.value;sen.gsm[i].phone=ep.value;sen.gsm[i].val=ev.value;SS.Scenario_CommandRowsHideExtra('gsm')};SS.Scenario_GS";
const char PROGMEM_JS_SETTING6[] PROGMEM = "MDelayChange=function(i){var sen=SS.Scenario_ScenePart(i,'GSM'),eh=$('#SS_Scenario_GSMDelay'+i)[0];sen.gsm[i].delay=Tool_TimeToNum(eh.value,0);eh.value=Tool_NumToTime(sen.gsm[i].delay)};SS.Scenario_VirtualChange=function(i){var v='',sen=SS.Scenario_ScenePart(i,'Virtual'),e=$('#SS_Scenario_VirtualCmd'+i)[0],ev=$('#SS_Scenario_VirtualVal'+i)[0],eh=$('#SS_Scenario_VirtualDelay'+i)[0],typ=e.value||'FF';e.value=typ=(typ=='01'?'01':'FF');if(typ=='FF'){ev.value='';eh.value='';sen.virtual[i].delay=0;Tool_DomDisable([ev,eh],true)}else{v=Number('0'+ev.value);ev.value=(v<1?1:v>250?250:v);Tool_DomDisable([ev,eh],false);eh.value=Tool_NumToTime(sen.virtual[i].delay);sen.virtual[i].delay=Tool_TimeToNum(eh.value,0)}sen.virtual[i].cmd=e.value;sen.virtual[i].val=ev.value;SS.Scenario_CommandRowsHideExtra('virtual')};SS.Scenario_VirtualDelayChange=function(i){var sen=SS.Scenario_ScenePart(i,'Virtual'),eh=$('#SS_Scenario_VirtualDelay'+i)[0];sen.virtual[i].delay=Tool_TimeToNum(eh.value,0);eh.value=Tool_NumToTime(sen.virtual[i].delay)};SS.Scenario_CodeChange=function(i){var v='',sen=SS.Scenario_ScenePart(i,'Code'),e=$('#SS_Scenario_CodeCmd'+i)[0],ev=$('#SS_Scenario_CodeVal'+i)[0],eh=$('#SS_Scenario_CodeDelay'+i)[0],typ=e.value||'FF';e.value=typ=(typ=='01'||typ=='02'?typ:'FF');if(typ=='01'){ev.setAttribute('maxlength',20);$(ev).removeClass('f-15').addClass('f-12');v=((ev.value||'')+'').toUpperCase().replace(/[^A-F^0-9]/g,'');if(v.length<1||v.length>20)$(ev).addClass('wrong');else $(ev).removeClass('wrong');if(v.length%2!=0)v='0'+v;ev.value=(v.length>20?v.substr(0,20)+' ('+v.substr(20)+')':v);Tool_DomDisable([ev,eh],false);eh.value=Tool_NumToTime(sen.code[i].delay);sen.code[i].delay=Tool_TimeToNum(eh.value,0)}else if(typ=='02'){ev.setAttribute('maxlength',10);$(ev).removeClass('f-12').addClass('f-15');v=(ev.value||'')+'';if(v.length>10){v=v.trim();if(v.length>10)v=v.replace(/ {2,}/g,' ')}if(v.length>10||v.length==0)$(ev).addClass('wrong');else $(ev).removeClass('wrong');ev.value=(v.length>10?v.substr(0,10)+' ('+v.substr(10)+')':v);Tool_DomDisable([ev,eh],false);eh.value=Tool_NumToTime(sen.code[i].delay);sen.code[i].delay=Tool_TimeToNum(eh.value,0)}else{ev.value='';$(ev).removeClass('wrong');eh.value='';sen.code[i].delay=0;Tool_DomDisable([ev,eh],true)}sen.code[i].cmd=e.value;sen.code[i].val=(typ=='02'?Tool_StrToHex(ev.value):ev.value);SS.Scenario_CommandRowsHideExtra('code')};SS.Scenario_CodeDelayChange=function(i){var sen=SS.Scenario_ScenePart(i,'Code'),eh=$('#SS_Scenario_CodeDelay'+i)[0];sen.code[i].delay=Tool_TimeToNum(eh.value,0);eh.value=Tool_NumToTime(sen.code[i].delay)};SS.Scenario_Save=function(){var i,v,empty=true,e,tmp,id=($('#SS_Scenario_Selector')[0].value||'0')+'',sen=SS.DB.scenario[id];if($('.wrong',$('#SS_Page_Scenario')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}tmp=[];console.log(JSON.stringify(sen.relay));for(i=1;i<=OPT.maxScenarioRelay;i++){v=SS.Scenario_ScenePart(i,'Relay').relay[i];if(v.cmd!=='FF'){tmp.push({cmd:v.cmd,val:v.val,delay:v.delay});empty=false}}for(i=1;i<=OPT.maxScenarioRelay;i++)sen.relay[i]=(i<=tmp.length?tmp[i-1]:{cmd:'FF',val:'',delay:0});tmp=[];for(i=1;i<=OPT.maxScenarioGSM;i++){v=SS.Scenario_ScenePart(i,'GSM').gsm[i];if(v.cmd!=='FF'){tmp.push({cmd:v.cmd,phone:v.phone,val:v.val,delay:v.delay});empty=false}}for(i=1;i<=OPT.maxScenarioGSM;i++)sen.gsm[i]=(i<=tmp.length?tmp[i-1]:{cmd:'FF',phone:'',val:'',delay:0});tmp=[];for(i=1;i<=OPT.maxScenarioVirtual;i++){v=SS.Scenario_ScenePart(i,'Virtual').virtual[i];if(v.cmd!=='FF'){tmp.push({cmd:v.cmd,val:v.val,delay:v.delay});empty=false}}for(i=1;i<=OPT.maxScenarioVirtual;i++)sen.virtual[i]=(i<=tmp.length?tmp[i-1]:{cmd:'FF',val:'',delay:0});tmp=[];for(i=1;i<=OPT.maxScenarioCode;i++){v=SS.Scenario_ScenePart(i,'Code').code[i];if(v.cmd!=='FF'){tmp.push({cmd:v.cmd,val:v.val,delay:v.delay});empty=false}}for(i=1;i<=OPT.maxScenarioCode;i++)sen.code[i]=(i<=tmp.length?tmp[i-1]:{cmd:'FF',val:'',delay:0});sen.act=(empty?'FF':'01');e=$('#SS_Scenario_Name')[0];v=((e.value||'')+'').replace(/[^_^ ^0-9^A-Z^a-z]/g,'');v=(v?v:'Scenario '+id).substr(0,12);e.value=sen.name=v;var q={scenario:{}};q.scenario[id]=Tool_ObjClone(sen);q.section='setting';q.requestMode='scenario';Tool_PageSend(q);SS.Scenario_Refresh(id)};SS.Runsen_ChooseFirstReady=function(){var i,dig=SS.DB.digital.address,gsm=SS.DB.gsm.address,rf=SS.DB.rf433.statusState,sen=SS.Scenario_SelectorOptions(true);if(sen.split('value').length<3){Tool_MsgShow(lang_text['SS_Scenario_InvalidScene']);SS.Scenario_Show();return}for(i=1;i<=OPT.maxDigital;i++)if(dig[i].type!='FF'&&dig[i].use=='01')return SS.RunsenDigital_Show();for(i=1;i<=OPT.maxRf433Status;i++)if(rf[i]!='FF')return SS.RunsenRF433_Show();if(gsm.type=='07'&&gsm.ch!='255')return SS.RunsenGSM_Show();SS.RunsenVirtual_Show()};SS.RunsenDigital_Show=function(){var i,d='',os=SS.Scenario_SelectorOptions(true),t=$('.SS-RunsenDigital-Template')[0].innerHTML.replace('-xxx',''),td=$('.SS-Scenario_SelectorOption-Template')[0].innerHTML.replace('-xxx',''),od='',run=SS.DB.digital.runSen,dig=SS.DB.digital.address;for(i=1;i<=OPT.maxDigital;i++)if(dig[i].type!='FF'&&dig[i].use=='FE')od+=td.replace('@value@',''+Tool_NumToHex(i)).replace('@name@','D.I &nbsp;'+i);if(od==''){Tool_MsgShow(lang_text['SS_Scenario_InvalidDigitalinput']);SS.AddressDigital_Show();return}else od=td.replace('@value@','FF').replace('@name@','-')+od;t=t.replace('@options_sen@',os).replace('@options_dvc@',od);for(i=1;i<=OPT.maxRunsenDigital;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenDigital-TempHolder')[0].innerHTML=d;SS.RunsenDigital_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenDigital')};SS.RunsenDigital_Refresh=function(){var i,e,ed,ec,es,ea,vd,vc,vs,va,run=SS.DB.digital.runSen;$('#SS_Page_RunsenDigital .wrong').removeClass('wrong');for(i=1;i<=OPT.maxRunsenDigital;i++){ed=$('#SS_RunsenDigital_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenDigital_Con'+i)[0];es=$('#SS_RunsenDigital_Sen'+i)[0];ea=$('#SS_RunsenDigital_Act'+i)[0];ed.value=vd=(run[i].dvc||'FF');if(vd=='FF'){vc=run[i].con='FF';ec.setAttribute('disabled','disabled')}else{ec.removeAttribute('disabled');vc=(run[i].con||'FF');if(vc=='FF')$(ec).addClass('wrong')}ec.value=vc;if(vc=='FF'){va=run[i].act='FF';ea.setAttribute('disabled','disabled')}else{ea.removeAttribute('disabled');va=(run[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs=run[i].sen='FF';es.setAttribute('disabled','disabled')}else{es.removeAttribute('disabled');vs=(run[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}$('#SS_Page_RunsenDigital .hide').removeClass('hide');for(i=OPT.maxRunsenDigital;i>=2;i--){if(run[i-1].dvc=='FF'&&run[i].dvc=='FF')$('#SS_RunsenDigital_'+i).addClass('hide');\nelse break}};SS.RunsenDigital_Change=function(i){var r=SS.DB.digital.runSen[i]||{dvc:'FF',con:'FF',sen:'FF'};r.dvc=$('#SS_RunsenDigital_Dvc'+i)[0].value||'FF';r.con=$('#SS_RunsenDigital_Con'+i)[0].value||'FF';r.act=$('#SS_RunsenDigital_Act'+i)[0].value||'FF';r.sen=$('#SS_RunsenDigital_Sen'+i)[0].value||'FF';SS.RunsenDigital_Refresh()};SS.RunsenDigital_Save=function(){var i,tmp=[],r=SS.DB.digital.runSen;if($('.wrong',$('#SS_Page_RunsenDigital')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}tmp=[];for(i=1;i<=OPT.maxRunsenDigital;i++){if(r[i].dvc&&r[i].dvc!='FF')tmp.push(r[i])}for(i=1;i<=OPT.maxRunsenDigital;i++){r[i]=(i<=tmp.length?tmp[i-1]:{dvc:'FF',con:'FF',act:'FF',sen:'FF'})}SS.RunsenDigital_Refresh();var q={digital:{runSen:SS.DB.digital.runSen}};q.section='setting';q.requestMode='runSen';Tool_PageSend(q)};SS.RunsenRF433_Show=function(){var i,d='',os=SS.Scenario_SelectorOptions(true),t=$('.SS-RunsenRF433-Template')[0].innerHTML.replace('-xxx',''),td=$('.SS-Scenario_SelectorOption-Template')[0].innerHTML.replace('-xxx',''),od='',r=SS.DB.rf433.runSen,rf=SS.DB.rf433.statusState;if((SS.DB.rf433.address.type!='13'&&SS.DB.rf433.address.type!='14')||SS.DB.rf433.address.ch=='255'){Tool_MsgShow(lang_text['SS_Scenario_InvalidRF433']);SS.AddressRF433_Show();return}od='';for(i=1;i<=OPT.maxRf433Status;i++)if(rf[i]!=='FF')od+=td.replace('@value@',''+Tool_NumToHex(i)).replace('@name@',''+i);if(od==''){Tool_MsgShow(lang_text['SS_S";
const char PROGMEM_JS_SETTING7[] PROGMEM = "cenario_InvalidRF433Status']);SS.AddressRF433_Show();return}else od=td.replace('@value@','FF').replace('@name@','-')+od;t=t.replace('@options_dvc@',od).replace('@options_sen@',os);for(i=1;i<=OPT.maxRunsenRf433;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenRF433-TempHolder')[0].innerHTML=d;SS.RunsenRF433_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenRF433')};SS.RunsenRF433_Refresh=function(){var i,ed,ec,es,ea,vd,vc,vs,va,r=SS.DB.rf433.runSen;$('#SS_Page_RunsenRF433 .wrong').removeClass('wrong');for(i=1;i<=OPT.maxRunsenRf433;i++){ed=$('#SS_RunsenRF433_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenRF433_Con'+i)[0];ea=$('#SS_RunsenRF433_Act'+i)[0];es=$('#SS_RunsenRF433_Sen'+i)[0];vd=(r[i].dvc||'FF');if(vd=='FF'){vc=r[i].con='FF';ec.setAttribute('disabled','disabled')}else{vd='01';ec.removeAttribute('disabled');vc=(r[i].con||'FF');if(vc=='FF')$(ec).addClass('wrong')}ed.value=vd;ec.value=vc;if(vc=='FF'){va=r[i].act='FF';ea.setAttribute('disabled','disabled')}else{ea.removeAttribute('disabled');va=(r[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs=r[i].sen='FF';es.setAttribute('disabled','disabled')}else{es.removeAttribute('disabled');vs=(r[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}$('#SS_Page_RunsenRF433 .hide').removeClass('hide');for(i=OPT.maxRunsenRf433;i>=2;i--){if(r[i-1].dvc=='FF'&&r[i].dvc=='FF')$('#SS_RunsenRF433_'+i).addClass('hide');else break}};SS.RunsenRF433_Change=function(i){var r=SS.DB.rf433.runSen[i]||{dvc:'FF',con:'FF',act:'FF',sen:'FF'};r.dvc=$('#SS_RunsenRF433_Dvc'+i)[0].value||'FF';r.con=$('#SS_RunsenRF433_Con'+i)[0].value||'FF';r.act=$('#SS_RunsenRF433_Act'+i)[0].value||'FF';r.sen=$('#SS_RunsenRF433_Sen'+i)[0].value||'FF';SS.RunsenRF433_Refresh()};SS.RunsenRF433_Save=function(){var i,tmp=[],r=SS.DB.rf433.runSen;if($('.wrong',$('#SS_Page_RunsenRF433')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}tmp=[];for(i=1;i<=OPT.maxRunsenRf433;i++){if(r[i].dvc&&r[i].dvc!='FF')tmp.push(r[i])}for(i=1;i<=OPT.maxRunsenRf433;i++){r[i]=(i<=tmp.length?tmp[i-1]:{dvc:'FF',con:'FF',act:'FF',sen:'FF'})}SS.RunsenRF433_Refresh();var q={rf433:{runSen:Tool_ObjClone(SS.DB.rf433.runSen)}};q.section='setting';q.requestMode='runSen';Tool_PageSend(q)};SS.RunsenGSM_Show=function(){var i,d,t=$('.SS-RunsenGSM-Template')[0].innerHTML.replace('-xxx','');if(SS.DB.gsm.address.type!='07'||SS.DB.gsm.address.ch=='255'){Tool_MsgShow(lang_text['SS_Scenario_InvalidGSM']);SS.AddressGSM_Show();return}t=t.replace('@options_sen@',SS.Scenario_SelectorOptions(true));d='';for(i=1;i<=OPT.maxRunsenGSM;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenGSM-TempHolder')[0].innerHTML=d;SS.RunsenGSM_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenGSM')};SS.RunsenGSM_Refresh=function(){var i,ed,ec,es,ea,vd,vc,vs,va,r=SS.DB.gsm.runSen;$('#SS_Page_RunsenGSM .wrong').removeClass('wrong');for(i=1;i<=OPT.maxRunsenGSM;i++){ed=$('#SS_RunsenGSM_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenGSM_Con'+i)[0];ea=$('#SS_RunsenGSM_Act'+i)[0];es=$('#SS_RunsenGSM_Sen'+i)[0];ed.value=vd=(r[i].dvc||'FF');if(vd=='FF'||vd=='00'){vc=r[i].con=(vd=='00'?'00':'FF');ec.setAttribute('disabled','disabled')}else{ec.removeAttribute('disabled');vc=(r[i].con||'FF');if(vc=='FF')$(ec).addClass('wrong')}ec.value=(vc=='FF'?'':Tool_HexToNum(vc));if(vc=='FF'){va=r[i].act='FF';ea.setAttribute('disabled','disabled')}else{ea.removeAttribute('disabled');va=(r[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs=r[i].sen='FF';es.setAttribute('disabled','disabled')}else{es.removeAttribute('disabled');vs=(r[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}$('#SS_Page_RunsenGSM .hide').removeClass('hide');for(i=OPT.maxRunsenGSM;i>=2;i--){if(r[i-1].dvc=='FF'&&r[i].dvc=='FF')$('#SS_RunsenGSM_'+i).addClass('hide');else break}};SS.RunsenGSM_Change=function(i){var v,r=SS.DB.gsm.runSen[i]||{dvc:'FF',con:'FF',act:'FF',sen:'FF'};r.dvc=$('#SS_RunsenGSM_Dvc'+i)[0].value||'FF';v=$('#SS_RunsenGSM_Con'+i)[0].value;if(v==''){r.con='FF'}else{v=Number('0'+v);if(r.dvc=='00')v=0;else v=(v<1?1:v>250?250:v);r.con=Tool_NumToHex(v)}r.act=$('#SS_RunsenGSM_Act'+i)[0].value||'FF';r.sen=$('#SS_RunsenGSM_Sen'+i)[0].value||'FF';SS.RunsenGSM_Refresh()};SS.RunsenGSM_Save=function(){var i,tmp=[],r=SS.DB.gsm.runSen;if($('.wrong',$('#SS_Page_RunsenGSM')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}for(i=1;i<=OPT.maxRunsenGSM;i++){if(r[i].dvc&&r[i].dvc!='FF')tmp.push(r[i])}for(i=1;i<=OPT.maxRunsenGSM;i++){r[i]=(i<=tmp.length?tmp[i-1]:{dvc:'FF',con:'FF',act:'FF',sen:'FF'})}SS.RunsenGSM_Refresh();var q={gsm:{runSen:SS.DB.gsm.runSen}};q.section='setting';q.requestMode='runSen';Tool_PageSend(q)};SS.RunsenVirtual_Show=function(){var i,ed,ec,es,vd,vc,vs,d='',os=SS.Scenario_SelectorOptions(true),t=$('.SS-RunsenVirtual-Template')[0].innerHTML.replace('-xxx',''),td=$('.SS-Scenario_SelectorOption-Template')[0].innerHTML.replace('-xxx',''),od='',run=SS.DB.virtual.runSen;t=t.replace('@options_sen@',os);for(i=1;i<=OPT.maxRunsenVirtual;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenVirtual-TempHolder')[0].innerHTML=d;SS.RunsenVirtual_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenVirtual')};SS.RunsenVirtual_Refresh=function(){var i,ed,ec,es,ea,vd,vc,vs,va,run=SS.DB.virtual.runSen;$('#SS_Page_RunsenVirtual .wrong').removeClass('wrong');for(i=1;i<=OPT.maxRunsenVirtual;i++){ed=$('#SS_RunsenVirtual_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenVirtual_Con'+i)[0];ea=$('#SS_RunsenVirtual_Act'+i)[0];es=$('#SS_RunsenVirtual_Sen'+i)[0];ed.value=vd=(run[i].dvc||'FF');if(vd=='FF'){vc=run[i].con='FF';ec.setAttribute('disabled','disabled')}else{ec.removeAttribute('disabled');vc=(run[i].con||'FF');if(vc=='FF')$(ec).addClass('wrong')}ec.value=(vc=='FF'?'':Tool_HexToNum(vc));if(vc=='FF'){va=run[i].act='FF';ea.setAttribute('disabled','disabled')}else{ea.removeAttribute('disabled');va=(run[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs=run[i].sen='FF';es.setAttribute('disabled','disabled')}else{es.removeAttribute('disabled');vs=(run[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}$('#SS_Page_RunsenVirtual .hide').removeClass('hide');for(i=OPT.maxRunsenVirtual;i>=2;i--){if(run[i-1].dvc=='FF'&&run[i].dvc=='FF')$('#SS_RunsenVirtual_'+i).addClass('hide');else break}};SS.RunsenVirtual_Change=function(i){var v,r=SS.DB.virtual.runSen[i]||{dvc:'FF',con:'FF',act:'FF',sen:'FF'};r.dvc=$('#SS_RunsenVirtual_Dvc'+i)[0].value||'FF';v=$('#SS_RunsenVirtual_Con'+i)[0].value;if(v==''){r.con='FF'}else{v=Number('0'+v);if(r.dvc=='00')v=0;else v=(v<1?1:v>250?250:v);r.con=Tool_NumToHex(v)}r.act=$('#SS_RunsenVirtual_Act'+i)[0].value||'FF';r.sen=$('#SS_RunsenVirtual_Sen'+i)[0].value||'FF';SS.RunsenVirtual_Refresh()};SS.RunsenVirtual_Save=function(){var i,tmp=[],r=SS.DB.virtual.runSen;if($('.wrong',$('#SS_Page_RunsenVirtual')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}for(i=1;i<=OPT.maxRunsenVirtual;i++){if(r[i].dvc&&r[i].dvc!='FF')tmp.push(r[i])}for(i=1;i<=OPT.maxRunsenVirtual;i++){r[i]=(i<=tmp.length?tmp[i-1]:{dvc:'FF',con:'FF',act:'FF',sen:'FF'})}SS.RunsenVirtual_Refresh();var q={virtual:{runSen:SS.DB.virtual.runSen}};q.section='setting';q.requestMode='runSen';Tool_PageSend(q)};SS.RunsenCode_Show=function(){var i,d='',os=SS.Scenario_SelectorOptions(true),t=$('.SS-RunsenCode-Template')[0].innerHTML.replace('-xxx','');t=t.replace('@options_sen@',os);for(i=1;i<=OPT.maxRunsenCode;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenCode-TempHolder')[0].innerHTML=d;SS.RunsenCode_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenCode')};SS.RunsenCode_Refresh=function(){var i,ed,ec,es,ea,vd,vc,vs,va,r=SS.DB.code.runSen;$('#SS_Page_RunsenCode .wrong').removeClass('wrong');for(i=1;i<=OPT.maxRunsenCode;i++){ed=$('#SS_RunsenCode_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenCode_Con'+i)[0];ea=$('#SS_RunsenCode_Act'+i)[0];es=$('#SS_RunsenCode_Sen'+i)[0];ed.value=vd=(r[i].dvc||'FF');if(vd=='FF'){vc=r[i].con='';ec.setAttribute('disabled','disabled')}else{ec.removeAttribute('disabled');vc=(r[i].con||'')+'';if(vd=='01'){ec.setAttribute('maxlength','20');$(ec).removeCla";
const char PROGMEM_JS_SETTING8[] PROGMEM = "ss('f-15').addClass('f-12');vc=vc.toUpperCase().replace(/[^A-F^0-9]/g,'');if(vc.length>20)vc=vc.substr(0,20);else if(vc.length%2!=0)vc='0'+vc}if(vd=='02'){vc=Tool_HexToStr(vc);ec.setAttribute('maxlength','10');$(ec).removeClass('f-12').addClass('f-15');if(vc.length>10){vc=vc.trim();if(vc.length>10)vc=vc.replace(/ {2,}/g,'');if(vc.length>10)vc=vc.substr(0,10)}}if(vc.trim()==''){vc='';$(ec).addClass('wrong')}}ec.value=vc;r[i].con=(vd=='02'?Tool_StrToHex(vc):vc);if(vc==''&&vd=='FF'){va=r[i].act='FF';ea.setAttribute('disabled','disabled')}else{ea.removeAttribute('disabled');va=(r[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs=r[i].sen='FF';es.setAttribute('disabled','disabled')}else{es.removeAttribute('disabled');vs=(r[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}$('#SS_Page_RunsenCode .hide').removeClass('hide');for(i=OPT.maxRunsenCode;i>=2;i--){if(r[i-1].dvc=='FF'&&r[i].dvc=='FF')$('#SS_RunsenCode_'+i).addClass('hide');else break}};SS.RunsenCode_Change=function(i){var v,run=SS.DB.code.runSen[i]||{dvc:'FF',con:'',act:'FF',sen:'FF'};run.dvc=$('#SS_RunsenCode_Dvc'+i)[0].value||'FF';v=($('#SS_RunsenCode_Con'+i)[0].value||'')+'';if(v.trim()==''){run.con=''}else{run.con=(run.dvc=='02'?Tool_StrToHex(v):v)}run.act=$('#SS_RunsenCode_Act'+i)[0].value||'FF';run.sen=$('#SS_RunsenCode_Sen'+i)[0].value||'FF';SS.RunsenCode_Refresh()};SS.RunsenCode_Save=function(){var i,t,tmp=[],r=SS.DB.code.runSen;if($('.wrong',$('#SS_Page_RunsenCode')[0]).length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}for(i=1;i<=OPT.maxRunsenCode;i++){if(r[i].dvc&&r[i].dvc!='FF')tmp.push(r[i])}for(i=1;i<=OPT.maxRunsenCode;i++){r[i]=(i<=tmp.length?tmp[i-1]:{dvc:'FF',con:'FF',act:'FF',sen:'FF'})}SS.RunsenCode_Refresh();var q={code:{runSen:Tool_ObjClone(SS.DB.code.runSen)}};q.section='setting';q.requestMode='runSen';Tool_PageSend(q)};SS.RunsenLinked_Show=function(){var i,d='',t=$('.SS-RunsenLinked-Template')[0].innerHTML.replace('-xxx','');t=t.replace('@options_sen@',SS.Scenario_SelectorOptions(true));for(i=1;i<=OPT.maxRunsenLinked;i++)d+=t.replace(/#/g,''+i);$('.SS-RunsenLinked-TempHolder')[0].innerHTML=d;SS.RunsenLinked_Refresh();SS.PageSelector_Set('RunsenVirtual');Tool_PageShow('#SS_Page_RunsenLinked')};SS.RunsenLinked_Refresh=function(){var i,v,p=$('#SS_Page_RunsenLinked')[0],ls=SS.DB.linked.sensor.address,lr=SS.DB.linked.rf433.address,r=SS.DB.linked.runSen,est,ess,esa,ert,ers,era,erc,ed,ec,ec_min,ec_max,es,ea,vd,vc,vc_min,vc_max,vs,va;$('.wrong,.address-double1,.address-double2,.hide',p).removeClass('wrong address-double1 address-double2 hide');$('*:disabled',p).removeAttr('disabled');est=$('#SS_RunsenLinkedAddress_S_Type')[0];ess=$('#SS_RunsenLinkedAddress_S_Sub')[0];esa=$('#SS_RunsenLinkedAddress_S_Ad')[0];v=ls.type||'FF';if(!Tool_DomHasValue(est,v))v='FF';est.value=v;if(est.value==='FF'){ess.value='';esa.value='';Tool_DomDisable([ess,esa],true)}else{v=Number('0'+ls.sub)||0;ess.value=''+(v>254?254:v<0?0:v);v=Number('0'+ls.ad)||0;v=(v>250?250:v<1?1:v);if(v==10||v==13)$(esa).addClass('address-double1');esa.value=v}ert=$('#SS_RunsenLinkedAddress_R_Type')[0];ers=$('#SS_RunsenLinkedAddress_R_Sub')[0];era=$('#SS_RunsenLinkedAddress_R_Ad')[0];erc=$('#SS_RunsenLinkedAddress_R_Ch')[0];v=lr.type||'FF';if(!Tool_DomHasValue(ert,v))v='FF';ert.value=v;if(ert.value==='FF'){ers.value='';era.value='';erc.value='';Tool_DomDisable([ers,era,erc],true)}else{v=Number('0'+lr.sub)||0;ers.value=''+(v>254?254:v<0?0:v);v=Number('0'+lr.ad)||0;v=(v>250?250:v<1?1:v);if(v==10||v==13)$(era).addClass('address-double1');era.value=v;v=Number('0'+lr.ch)||0;v=(v>250?250:v<1?1:v);erc.value=v}for(i=1;i<=OPT.maxRunsenLinked;i++){ed=$('#SS_RunsenLinked_Dvc'+i)[0];if(ed){ec=$('#SS_RunsenLinked_Con'+i)[0];ec_min=$('#SS_RunsenLinked_ConMin'+i)[0];ec_max=$('#SS_RunsenLinked_ConMax'+i)[0];ea=$('#SS_RunsenLinked_Act'+i)[0];es=$('#SS_RunsenLinked_Sen'+i)[0];vd=(r[i].dvc||'FF');ed.value=vd;if(est.value=='FF'&&ert.value=='FF'){Tool_DomDisable([ed,ec,ec_min,ec_max,ea,es],true);$('#SS_RunsenLinked_'+i).addClass('hide')}else{if(vd!=='FF'){if(vd!=='13'&&est.value=='FF')ed.value=vd='FF';else if(vd=='13'&&ert.value=='FF')ed.value=vd='FF'}if(vd=='FF'){vc='FF';vc_min=vc_max=0xFFFF;Tool_DomDisable([ec,ec_min,ec_max],true)}else{vc_min=(r[i].min||0);vc_max=(r[i].max||0);vc=(vd=='0F'||vd=='0E'?'==':r[i].con||'==');if(vc=='FF'){$(ec).addClass('wrong');vc_max=vc_min=0xFFFF}else if(vc=='=='||vc=='>=')vc_max=0xFFFF;else if(vc=='<=')vc_min=0xFFFF;if(vc_max==0xFFFF)ec_max.setAttribute('disabled','disabled');if(vc_min==0xFFFF)ec_min.setAttribute('disabled','disabled');if(vc_max<0)vc_max=0;else if(vc_max>65000&&vc_max!=0xFFFF)vc_max=65000;if(vc_min<0)vc_min=0;else if(vc_min>65000&&vc_min!=0xFFFF)vc_min=65000;if(vd=='0E'&&vc_min>1)vc_min=1;if(vd=='0F'&&vc_min>2)vc_min=2}ec.value=(vc=='FF'?'':vc);ec_min.value=(vc_min==0xFFFF?'-1':vc_min);ec_max.value=(vc_max==0xFFFF?'-1':vc_max);if(vc=='FF'){va='FF';ea.setAttribute('disabled','disabled')}else{va=(r[i].act||'FF');if(va=='FF')$(ea).addClass('wrong')}ea.value=va;if(va=='FF'){vs='FF';es.setAttribute('disabled','disabled')}else{vs=(r[i].sen||'FF');if(vs=='FF')$(es).addClass('wrong')}es.value=vs}}}if(est.value!=='FF'||ert.value!=='FF'){for(i=OPT.maxRunsenLinked;i>=2;i--){if(r[i-1].dvc=='FF'&&r[i].dvc=='FF')$('#SS_RunsenLinked_'+i).addClass('hide');else break}}};SS.RunsenLinked_AddressChange=function(){var i,e,v,ls=SS.DB.linked.sensor.address,lr=SS.DB.linked.rf433.address;ls.type=$('#SS_RunsenLinkedAddress_S_Type')[0].value;e=$('#SS_RunsenLinkedAddress_S_Sub')[0];v=Number('0'+e.value);ls.sub=e.value=(v<=0?0:v>254?254:v);e=$('#SS_RunsenLinkedAddress_S_Ad')[0];v=Number('0'+e.value);ls.ad=e.value=(v<1?1:v>250?250:v);lr.type=$('#SS_RunsenLinkedAddress_R_Type')[0].value;e=$('#SS_RunsenLinkedAddress_R_Sub')[0];v=Number('0'+e.value);lr.sub=e.value=(v<0?0:v>254?254:v);e=$('#SS_RunsenLinkedAddress_R_Ad')[0];v=Number('0'+e.value);lr.ad=e.value=(v<1?1:v>250?250:v);e=$('#SS_RunsenLinkedAddress_R_Ch')[0];v=Number('0'+e.value);lr.ch=e.value=(v<1?1:v>250?250:v);SS.RunsenLinked_Refresh()};SS.RunsenLinked_Change=function(i,noRefresh){var r=SS.DB.linked.runSen[i]||{dvc:'FF',con:'FF',min:0,max:0,act:'FF',sen:'FF'};r.dvc=$('#SS_RunsenLinked_Dvc'+i)[0].value||'FF';r.con=$('#SS_RunsenLinked_Con'+i)[0].value||'FF';r.min=Number($('#SS_RunsenLinked_ConMin'+i)[0].value)||0;r.max=Number($('#SS_RunsenLinked_ConMax'+i)[0].value)||0;r.act=$('#SS_RunsenLinked_Act'+i)[0].value||'FF';r.sen=$('#SS_RunsenLinked_Sen'+i)[0].value||'FF';if(!noRefresh)SS.RunsenLinked_Refresh()};SS.RunsenLinked_Save=function(){SS.RunsenLinked_AddressChange();for(var row=1;row<=OPT.maxRunsenLinked;row++)SS.RunsenLinked_Change(row,true);SS.RunsenLinked_Refresh();var i,v,tmp=[],r=SS.DB.linked.runSen,wrong=$('.wrong',$('#SS_Page_RunsenLinked')[0]);if(wrong.length>0){Tool_MsgShow(lang_text['SS_Address_CorrectWrongCase']);return}for(i=1;i<=OPT.maxRunsenLinked;i++){if(r[i].dvc&&r[i].dvc!='FF'){if(r[i].con=='=='){r[i].max=r[i].min}else if(r[i].con=='<>'&&r[i].max<r[i].min){v=r[i].max;r[i].max=r[i].min;r[i].min=v}tmp.push(r[i])}}for(i=1;i<=OPT.maxRunsenLinked;i++){if(i<=tmp.length)r[i]=tmp[i-1];else r[i]={dvc:'FF',con:'FF',min:0,max:0,act:'FF',sen:'FF'}}var q={linked:{sensor:{address:Tool_ObjClone(SS.DB.linked.sensor.address)},rf433:{address:Tool_ObjClone(SS.DB.linked.rf433.address)},runSen:Tool_ObjClone(r)}};if(SS.DB.linked.sensor.address.type=='FF'&&SS.DB.linked.rf433.address.type=='FF'){q.linked={sensor:{address:{type:'FF',sub:0,ad:0}},rf433:{address:{type:'FF',sub:0,ad:0,ch:0}},runSen:{}};for(i=1;i<=OPT.maxRunsenLinked;i++)q.linked.runSen[i]={dvc:'FF',con:'',min:0,max:0,act:'FF',sen:'FF'}}q.section='setting';q.requestMode='runSen';Tool_PageSend(q);SS.RunsenLinked_Refresh()};SS.SettingBackup_Show=function(){SS.PageSelector_Set('SettingBackup');Tool_PageShow('#SS_Page_SettingBackup')};SS.SettingBackup_Export=function(){var validRf=false,fname,i,d={},s=SS.DB;var learnedData=function(r){r=Tool_JsonCorrect(r);if(!r)Tool_MsgShow(lang_text['SG_DataCannotLoad']);else if(r.rf433){if(r.rf433.learned)d.rf433.learned=Tool_ObjClone(r.rf433.learned)}};var learnedErr=function(r){Tool_MsgShow(lang_text['SG_Disco";
const char PROGMEM_JS_SETTING9[] PROGMEM = "nnect'])};d.relay={address:s.relay.address};d.thermolink={address:s.thermolink.address};d.relay={address:s.relay.address};d.digital={address:s.digital.address,runSen:s.digital.runSen};d.gsm={address:s.gsm.address,runSen:s.gsm.runSen};d.rf433={address:s.rf433.address,runSen:s.rf433.runSen};d.scenario=s.scenario;d.virtual={runSen:s.virtual.runSen};d.code={runSen:s.code.runSen};d.linked=s.linked;try{for(i in d.scenario){delete d.scenario[i].gsm}}catch(x){}try{for(i in s.rf433.relayState){if(s.rf433.relayState[i]=='01'){validRf=true;break}}}catch(x){}try{if(!validRf)for(i in s.rf433.statusState){if(s.rf433.statusState[i]=='01'){validRf=true;break}}}catch(x){}if(validRf){if(confirm(lang_text['SS_Exim_NeedRF'])){Tool_PageGet({section:'setting',requestMode:'learned',rf433:{}},learnedData,learnedErr)}}i=((OPT.projectCode||'NoProject')+'_'+OPT.dvcType.substr(0,1).toUpperCase()+OPT.dvcType.substr(1)+'_Setting').replace(/[^A-Z^a-z^0-9^_^ ]/g,'').replace(/ {2,}/g,' ').trim();fname=(prompt(lang_text['SS_Exim_Filename'],i)||'');if(fname)Tool_FileDownload(fname+'.json',JSON.stringify(d))};SS.SettingBackup_Import=function(){Tool_FileRead(function(data){var needSetting=true;var q=Tool_JsonCorrect(data);q.section='setting';q.requestMode='all';try{if(q.rf433){var lrn=Tool_JsonCorrect(q.rf433.learned);if(lrn&&confirm(lang_text['SS_Exim_NeedRF'])){needSetting=false;Tool_PageSend({section:'setting',requestMode:'learned',rf433:{learned:lrn}})}}}catch(x){}if(needSetting||confirm(lang_text['SS_Exim_NeedSetting']))Tool_PageSend(q,function(){SG.Selection_Show();_w.Tool_PageReload()})},'.json')};SS.Loaded=true;";

const char* const PROGMEM_JS_SETTING[] PROGMEM = {
  PROGMEM_JS_SETTING1,
  PROGMEM_JS_SETTING2,
  PROGMEM_JS_SETTING3,
  PROGMEM_JS_SETTING4,
  PROGMEM_JS_SETTING5,
  PROGMEM_JS_SETTING6,
  PROGMEM_JS_SETTING7,
  PROGMEM_JS_SETTING8,
  PROGMEM_JS_SETTING9
};
const byte maxPROGMEM_JS_SETTING = 9;



/*---- Style.css ----*/
const char PROGMEM_CSS1[] PROGMEM = "@keyframes falldown{0%{opacity:0.01;margin-top:-100vh;overflow:hidden}98%{opacity:.70;margin-top:0}100%{opacity:1;overflow:unset}}@keyframes blinking{0%{opacity:0.02}70%{opacity:1}100%{opacity:0.01}}@keyframes blinking-light{0%{opacity:0.51}50%{opacity:1}100%{opacity:0.51}}body{display:none;font:normal 14px Tahoma,sans-serif;background-color:#808488;user-select:none;animation:0.8s linear falldown}body *{box-sizing:border-box}#logo{width:65px;height:50px}.panel-box{width:450px;margin:0 auto}.div-title{padding:8px 0;background-color:#000000;border-radius:15px 15px 0 0;border:1px solid #d4d6d8;border-bottom:0}.div-footer{border-radius:0 0 10px 10px;padding:10px 0 15px 0;background-color:#a7a7a7;border:1px solid #d4d6d8;border-top:0}.top-menu{width:450px;box-sizing:border-box;margin:0 0 25px 0;padding:1px 10px 5px 10px;border-left:1px solid #ccc;border-right:1px solid #ccc;background-color:#000;font-weight:bold;font-size:16px;text-align:left}.top-menu span{color:#888;background-color:#45484a;cursor:pointer;border:1px solid #666;border-bottom:0;border-radius:7px 7px 0 0;overflow:hidden;display:inline-block;height:25px;text-align:center;margin:0 2px -8px 1px;padding:3px 3px}.top-menu span:hover{color:#f0d008}.top-menu span.menu-active{color:#2c2c2c;background-color:#d4d6d8;border:1px solid #d4d6d8;margin:0 2px -9px 1px;cursor:default}.SS-PageSelector-TempHolder{clear:both;background:#000;border-left:1px solid #ccc;border-right:1px solid #ccc;padding:0 0 8px 0}.SS-PageSelector-TempHolder select{float:unset!important;width:146px;height:25px;background:#ffdd00;color:#000;margin-top:-5px}.Page{display:none;min-height:312px;width:450px;border-radius:0;padding:0;background-color:#d4d6d8}.page-show{display:inline-block!important}.row{clear:both}.paragraph{width:312px;text-align:justify;font-size:16px}.mode-title{font-size:20px;font-weight:bold;text-align:center;color:#1492ac}.mode-text{font-size:16px;text-align:center;color:#1492ac}.blink{animation:blinking 0.8s infinite}.blink-light{animation:blinking-light 1.0s infinite}.e-txt{float:left}.checkbox{float:left;accent-color:#047fa6;background-color:#d1d3d1;width:20px;height:20px;margin:0;box-sizing:border-box}.checkbox.c-red{accent-color:#f5263f}label{float:left;padding:6px 0;color:#047fa6}label div{float:left;margin:0 6px}select,input{float:right;text-align:center;border:1px solid #444;box-sizing:border-box;font-size:15px;font-weight:bold;width:180px;height:27px;border-radius:5px;background-color:#acc5ed}input:autofill,select:autofill{box-shadow:0 0 0 1000px #acc5ed inset!important;text-fill-color:black!important}input:-webkit-autofill,select:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #acc5ed inset!important;-webkit-text-fill-color:black!important}.right{float:right!important}.left{float:left!important}.float-none{float:none!important}.key{float:right;background-color:#39c600;padding:4px 8px;margin:6px 0;height:35px;width:130px;font-size:16px;font-weight:bold;color:#FFFFFF;border-radius:40px;border:2px solid #FFFFFF;cursor:pointer}.key:hover{border-color:#000000;color:#000000;transition:border-color,color 0.35s ease-in}.key:active{background-color:#a8a8a5}.key.left{float:left!important}.key.right{float:right!important}.bt-med{background-color:#7cabc7;color:#FFFFFF;padding:3px 5px;margin:1px 0;height:28px;width:127px;font-size:16px;border-radius:5px;border:1px solid #FFFFFF;cursor:pointer}.bt-med:hover{border-color:#000000;color:#000000;transition:border-color,color 0.35s ease-in}.bt-med:active{background-color:#989895}.disabled,.disabled .mode-title{color:#666!important;cursor:not-allowed}.disabled input,.disabled select,.disabled label,.disabled .key,.disabled .key:hover{color:#666!important;background-color:#bcbfc3!important;cursor:not-allowed;border:1px solid #000000}.disabled input:-webkit-autofill,.disabled select:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #bcbfc3 inset!important;-webkit-text-fill-color:#666!important}.hold{color:#1e6c00;background:#bee278;direction:ltr!important}#SG_Page_Language .top-menu{font-size:18px!important;color:#888}#SG_Page_Wait #SG_wait_progress{font-size:20px;color:#5eabc6;word-spacing:-4px}#SG_Page_Selection .key{width:320px;font-size:15px}#SN_Page_Restore p{text-align:justify}#SN_Page_Restore .text-ok{background-color:#84c058!important;color:#d5ecce;padding:1px 6px;border-radius:5px}#SN_Page_Restore .text-cancel{background-color:#eb5868!important;color:#f0d8d8;padding:1px 6px;border-radius:5px}#SN_Page_Restore .warning{font-size:32px;font-weight:bold;text-align:center;color:#ff0000}.hide,.template{display:none}#SU_Page_Update form{background:#fff8;max-width:370px;height:180px;margin:15px auto 0 auto;padding:10px;border-radius:10px;text-align:center}#SU_Page_Update .bt-site{width:198px;border-radius:25px;border:1px solid #999;padding:3px;background:#d3d3d3;font-size:12px;cursor:pointer}#SU_file-input,#SU_Page_Update input{width:100%;height:44px;border-radius:4px;margin:10px auto;font-size:15px}#SU_file-input{overflow:hidden;padding:0 7px;color:#fff;background:#5685b0;border:2px solid #fff;border-radius:9px;line-height:44px;cursor:pointer}#SU_prg{font-size:13px}#SU_prgbar{background-color:#fff;border-radius:10px;margin-top:35px}#SU_bar{background-color:#3498db;width:0%;height:10px;border-radius:10px;margin-top:45px}#ST_Page_Touch input{width:83px}#ST_Page_Touch .ch{margin:0;float:left}#ST_Page_Touch .ch span{margin-top:5px;display:inline-block}#SS_Page_AddressRelay input{width:54px;float:right;margin:1px 0 0 4px}#SS_Page_AddressRelay .hold{color:#1e6c00;background:#bee278}#SS_Page_AddressRelay *:disabled,#SS_Page_AddressThermolink *:disabled{background:#bdbfc1;border-color:#fff;color:#777}#SS_Page_AddressDigital input{width:54px;float:right;margin:1px 0 0 4px}#SS_Page_AddressDigital .usemode{color:#1e6c00;background:#bee278}#SS_Page_AddressDigital .linked-relay{color:#4781c5;background:#bdd1fd}#SS_Page_AddressDigital *:disabled{background:#bdbfc1;border-color:#fff;color:#777}#SS_Page_AddressGSM input{width:55px;float:right;margin:1px 0 0 8px}#SS_Page_AddressGSM *:disabled{background:#bdbfc1;border-color:#fff;color:#777}#SS_Page_AddressRF433 input{direction:ltr;width:54px;float:right;margin:1px 0 0 4px}#SS_Page_AddressRF433 .state{border:1px solid #00ad7b;background:#c3e9c4;width:80px;color:#1ea82f;cursor:default}#SS_Page_AddressRF433 .linked-conversion{background:#b2deff;border-color:#49a3e4;color:#2d7ca4}#SS_Page_AddressRF433 .linked-relay{color:#2c71c3;background:#bdd1fd;border-color:#3782da}#SS_Page_AddressRF433 .linked-conversion:hover,#SS_Page_AddressRF433 .linked-relay:hover{color:#000;border-color:#000}#SS_Page_AddressRF433 .linked-conversion:active,#SS_Page_AddressRF433 .linked-relay:active{background-color:#989895}#SS_Page_AddressRF433 *:disabled{background:#bdbfc1;border-color:#fff;color:#777;cursor:default}#SS_Page_Scenario select.used{border-color:#000!important;color:#000!important}#SS_Page_SettingBackup p{border-radius:7px;padding:8px 5px;margin:1px 0}.p-t-10p{padding-top:10%}.w-100p{width:100%!important}.f-normal{font-weight:normal!important}.f-bold{font-weight:bold!important}.t-center{text-align:center!important}.t-justify{text-align:justify!important}.t-left{text-align:left!important}.t-right{text-align:right!important}.hide-disabled:disabled{visibility:hidden}.wrong{color:#ac0404!important;background:#ffa5a5!important}.address-double1{background:#feec6b!important}.address-double2{background:#ffbc6b!important}.c-red{color:#e80e1c!important}.c-green{color:#3fbd00!important}.c-white{color:#ffffff!important}.c-blue{color:#498db8!important}.c-gray{color:#a0a6aa!important}.c-dark{color:#707478!important}.green{background-color:#7dc032}.greenlight{background-color:#9bc869}.greendark{background-color:#59a206}.blue{background-color:#498db8}.red{background-color:#f03848}.redbright{background-color:#fd6d6d}.redlight{background-color:#fb9696}.lang-fa{direction:rtl}.lang-fa .top-menu{text-align:right}.lang-fa .checkbox,.lang-fa label{float:right}.lang-fa label div{float:right;margin-left:5px}.lang-fa input,.lang-fa select{float:left}.lang-fa .e-txt{float:right}.lang-fa .key.right{float:left!important}.lang-fa .key.left{float:right!important}body.v";
const char PROGMEM_CSS2[] PROGMEM = "atra{background-color:#7f7c72}.airngin .div-footer{color:#e0e0e0;background-color:#8e8e8e;border:1px solid #b6b9bc;color:#f9f9f9;background-color:#acaba8;border:1px solid #d4d6d8}.airngin .Page{background-color:#cccdcf}.airngin .div-title{background-color:#256f6e}.airngin .top-menu{background-color:#256f6e}.airngin .top-menu span{color:#b76060;background-color:#84031a;border:1px solid #d45252}.airngin .top-menu span:hover{color:#ff7070}.airngin .top-menu span.menu-active{color:#ce0024;border-color:#cccdcf;background:#cccdcf;text-shadow:0px 0px 6px #fff}.airngin .mode-title{color:#ffffff;text-shadow:2px 1px 7px #000,0px 0px 2px #000}.airngin .disabled .mode-title{text-shadow:none}.airngin select,.airngin input{background-color:#edede8}.airngin .key.blue{background-color:#ece3be;color:#966e02;border-color:#cfb168}.airngin .key.blue:hover{background-color:#969592;color:#fff;border-color:#fff}.airngin .SS-PageSelector-TempHolder{background:#256f6e}.airngin .SS-PageSelector-TempHolder select{background:#ffb600!important;color:#000;border-color:#000}";

const char* const PROGMEM_CSS[] PROGMEM = {
  PROGMEM_CSS1,
  PROGMEM_CSS2
};
const byte maxPROGMEM_CSS = 2;



/*---- Page.html ----*/
const char PROGMEM_HTML1[] PROGMEM = "<script id='TmP123'>try{(function(v){var i,k,c=String.fromCharCode,cq=c(34),cf=c(12),a=(\" class='\\f</option> <option value='\\f' onclick='S\\f</div> <\\f onchange='SS.\\f</span> <span\\fcenter\\fAddress\\frow p-t-\\f id='SS_\\fRunsen\\f_Show()'>\\fbutton\\fChange(#)'> \\f</option> <\\f maxlength=\\f value='\\f</span>\\fselect\\f' type='number' min=\\f-TempHolder'>\\f> <div\\fright \\foption\\fScenario\\fG.AnyPage_Cancel()'>\\fDigital\\f-Template'> <\\ftemplate SS-\\f menu-active'\\f> <span\\ftypes=',FF,\\fPage lang-\\fLinked\\frow h-2'>\\fmode-title\\fRF433\\f> <input\\fVirtual\\f id='S\\f m-t-\\fThermolink\\f&nbsp;\\fkey red left\\fRelay\\f<span\\ft f-1\\fkey green \\ftop-menu m-b-20 SS-\\f09,08,02,03,17,18,19,04,'\\f p-b-55'> <\\f' type='\\f max=25\\felect\\fkey blue\\fhange\\ff-11 w-\\f_Save()'>\\frow'> <\\fSS-PageS\\f<input\\f15'><hr\\f0'> <\\f m-r-\\fright\\f(this)'\\fleft \\fw-320\\ftop-menu\\fPage_\\fe-txt'>\\froject\\f m-l-\\ff-14 w-\\f Minute & Second (MM:SS)'\\fDelay#' disabled\\ftitle\\fN.Finish\\fion_Click(\\fیه تاخیر در اجرا (MM:SS)'\\fDevice\\fانصراف</\\fm-l-9 bt-med\\fw-430'\\fetting\\f='پاسخگویی بعنوان ابزار \\f,03,17,18,19,\\ftext'\\fGSM_Phone\\f-remove'\\f-15'>\\fتنظیمات\").split(cf);for(i=91;i>=0;i--){k=cf+c(i+35);if(v.indexOf(k)>=0)v=v.split(k).join(a[i]);}document.body.innerHTML=v;})(\"<\f)\f#panel-box'\f8\f#div-\fo'> <img id='logo' src=''></img> \f&div\f#div-body'\f8\fJG_\fhLanguage'\f#Page page-show'> <\f)\f#p-l-130 \fg'> \fs Configuration <br> <b style='color:#FFF'>پنل \f~ و پیکربندی</b> </\f)> <\f)\f#w-420'\f8\f#row f-16'> برای ادامه ، زبان مورد نظر خود را انتخاب نمایید \f&div\f#row f-14 p-t-10'> S\fX One Of The Below Languages To Continue \f&/\f)> <\f)\f#\ff'\f8\f#\f+1\fa\f/\f#key \feblue' onclick='Tool_LanguageSet(1)'>English</\f/> <\f/\f#key \f9blue' onclick='Tool_LanguageSet(0)'>فارسی</\f/> \f&/\f)> <\f)\f#w-420'\f8\f#row f-16 p-t-20'> با زدن دکمه قرمز زیر میتوانید از \f~ خارج شوید \f&div\f#row f-14 p-t-10'> You Can Close This Configuration By The Below Red-Button \f&/\f)> <\f)\f#\ff'\f8\f#\f+1\fa\f/\f#key red w-100p\f%G.Exit(2)'>Close Panel \fM/\fM خروج از \f~</\f/> \f&/\f)> \f&div\fJG_\fhWait'\f#Page'> <\f)\f#w-420 p-t-40'\f8\fJG_wait_msg'\f#\f+10p'> Please Wait , To Complete The Operation \f&div\f#\f]p\fJG_wait_progress'></p> \f&/\f)> \f&div\fJG_\fhS\fXion'\f#\fCen'> <\f)\f#\ff'\f8\f#\f+2\fa\f)\f#\fF'>Choose Your Desired Panel</\f)> \f&\f)\f#\f+2\fa\f/\f#\fY w-155 f-15 left\f%G.S\fX\fq1)'>\fs S\fw</\f/> <\f/\f#\fY w-155 f-15 \fc\f%G.S\fX\fq2)'>\fs Tuning</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#\fY\f%G.S\fX\fq3)'>Network S\fws</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#\fY\f%G.S\fX\fq4)'>Firmware Update</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#key red w-150 left\f%G.S\fX\fq8)'>Close Panel</\f/> <\f/\f#key red w-150 \fc\f%G.S\fX\fq9)'>Reboot All</\f/> </\f)> </\f)> \f&div\fJG_\fhS\fXion'\f#\fCfa'> <\f)\f#\ff'\f8\f#\f+2\fa\f)\f#\fF'>پنل مورد نظرتان را انتخاب کنید</\f)> \f&\f)\f#\f+2\fa\f/\f#\fY w-150 left\f%G.S\fX\fq1)'>تنظیم آدرس ابزار</\f/> <\f/\f#\fY w-150 \fc\f%G.S\fX\fq2)'>تنظیم کارکرد ابزار</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#\fY\f%G.S\fX\fq3)'>\f~ شبکه و پروژه</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#\fY\f%G.S\fX\fq4)'>آپدیت نسخه فریمور</\f/> </\f)> <\f)\f#\f+1\fa\f/\f#key red w-150 left\f%G.S\fX\fq8)'>بستن این پنل</\f/> <\f/\f#key red w-150 \fc\f%G.S\fX\fq9)'>راه اندازی مجدد</\f/> </\f)> </\f)> \f&div\fJN_\fhP\fj'\f#\fCen'\f8\f#\fg'\fA\f#w-80\f@>P\fj\f(\f#w-65\f%N.Mesh\f.Mesh\f(\f#w-75\f%N.Modem\f.Modem\f(\f#w-65\f%N.Mqtt\f.Mqtt\f(\f#w-70\f%\fp\f.Save\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>P\fj S\fws</\f)> \f&div\f#\f+15'\fA\f#\fiConnection Type :\f4 <\f5\fJN_p\fj_circuit' \fo='S\fX One Type Of List' onc\fZ='SN.P\fj_C\fZ()'> <\f:\f3iot' \f5ed='\f5ed' \fo='IOT (Internet Of Things)'>IOT\f$wired' \fo='Wired Only'>Wired\f$wiot' \fo='Wired and IOT'>WiOT\f$wirefi' \fo='Wired and WiFi-Mesh'>WireFi\f$wifi' \fo='WiFi Mesh Network Between Several \fss'>WiFi Mesh\f1/\f5> \f&div\f#\f+10'\fA\f#\fiIs Extender :\f4 <\f5\fJN_p\fj_extender' \fo='S\fX Yes If This \fs Needs Be An Extender' onc\fZ='SN.P\fj_C\fZ()'> <\f:\f30' \f5ed='\f5ed' \fo='Response as a \fs Only'>Local / No\f$1' \fo='Response as a \fs and Transports Data Between Wire And Wireless'>Local / Yes\f$2' \fo='Cloud Support and Response as a \fs Only'>Cloud / No\f$3' \fo='Cloud Support and Response as a \fs With Transports Data Between Wire And Wireless '>Cloud / Yes\f1/\f5> \f&div\f#\f+10'\fA\f#\fiP\fj\fM-\fMID : \fM\f4 \f_\fJN_p\fj_code\fV\fz\f220\f3'> \f&div\f#\f+10'\fA\f#\fiEncryption\fM-\fMKey : \fM\f4 \f_\fJN_p\fj_enckey\fV\fz\f216\f3'> \f&div\f#\f+2\fa\f/\f#\fY \fc\f%N.P\fj_Next()'>Next</\f/> <\f/\f#\fY left\f%G.S\fXion_Backed()'>Back</\f/> \f&/\f)> \f&div\fJN_\fhMesh'\f#\fCen'\f8\f#\fg'\fA\f#w-80\f%N.P\fj\f.P\fj\f(\f#w-65\f@>Mesh\f(\f#w-75\f%N.Modem\f.Modem\f(\f#w-65\f%N.Mqtt\f.Mqtt\f(\f#w-70\f%\fp\f.Save\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>WiFi Mesh S\fws</\f)> \f&div\f#\f+25'\fA\f#\fiMesh Channel :\f4 <\f5\fJN_mesh_channel' \fo='Use a channel that has lowest noise according to the other Wifis' > <\f:\f31'>1\f$2'>2\f$3'>3\f$4'>4\f$5'>5\f$6'>6\f$7'>7\f$8'>8\f$9' \f5ed='\f5ed'>9\f$10'>10\f$11'>11\f1/\f5> \f&div\f#\f+10'\fA\f#\fiMesh \fM Name \fM: \fM\f4 \f_\fJN_mesh_name\fV\fz\f3'\f26> \f&div\f#\f+10'\fA\f#\fiMesh Password : \fM\f4 \f_\fJN_mesh_pass\fV\fz\f3'\f216> \f&div\f#\f+2\fa\f/\fJN_mesh_btnext'\f#\fY \fc\f%N.Mesh_Next()'>Next</\f/> <\f/\fJN_mesh_btprev'\f#\fY left\f%N.Mesh_Back()'>Previous</\f/> \f&/\f)> \f&div\fJN_\fhModem'\f#\fCen'\f8\f#\fg'\fA\f#w-80\f%N.P\fj\f.P\fj\f(\f#w-65\f%N.Mesh\f.Mesh\f(\f#w-75\f@>Modem\f(\f#w-65\f%N.Mqtt\f.Mqtt\f(\f#w-70\f%\fp\f.Save\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>Modem S\fws</\f)> \f&div\f#\f+25'\fA\f#\fiModem Channel :\f4 <\f5\fJN_modem_channel' > <\f:\f30' \f5ed='\f5ed'>Auto\f$1'>1\f$2'>2\f$3'>3\f$4'>4\f$5'>5\f$6'>6\f$7'>7\f$8'>8\f$9'>9\f$10'>10\f$11'>11\f1/\f5> \f&div\f#\f+10'\fA\f#\fiModem SSID : \fM\f4 \f_\fJN_modem_ssid\fV\fz\f3'\f232> \f&div\f#\f+10'\fA\f#\fiModem Password : \fM\f4 \f_\fJN_modem_pass\fV\fz\f3'\f263> \f&div\f#\f+2\fa\f/\fJN_modem_btnext'\f#\fY \fc\f%N.Modem_Next()'>Next</\f/> <\f/\fJN_modem_btprev'\f#\fY left\f%N.Modem_Back()'>Previous</\f/> \f&/\f)> \f&div\fJN_\fhMqtt'\f#\fCen'\f8\f#\fg'\fA\f#w-80\f%N.P\fj\f.P\fj\f(\f#w-65\f%N.Mesh\f.Mesh\f(\f#w-75\f%N.Modem\f.Modem\f(\f#w-65\f@>Mqtt\f(\f#w-70\f%\fp\f.Save\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>MQTT S\fws</\f)> \f&div\f#\f+25'\fA\f#\fiMqtt Username : \fM\f4 \f_\fJN_mqtt_user\fV\fz\f3'\f216> \f&div\f#\f+10'\fA\f#\fiMqtt Password : \fM\f4 \f_\fJN_mqtt_pass\fV\fz\f3'\f216> \f&div\f#\f+10'\fA\f#e-txt'\f2100>Mqtt Broker URL: \fM\f4 \f&div\f#\f+5'\fH\fJN_mqtt_broker'\f#w-100p t-\fef-normal\fV\fz\f3'> \f&div\f#\f+2\fa\f/\fJN_mqtt_btnext'\f#\fY \fc\f%N.Mqtt_Next()'>Next</\f/> <\f/\fJN_mqtt_btprev'\f#\fY left\f%N.Mqtt_Back()'>Previous</\f/> \f&/\f)> \f&div\fJN_\fhFinish'\f#\fCen'\f8\f#\fg'\fA\f#w-80\f%N.P\fj\f.P\fj\f(\f#w-65\f%N.Mesh\f.Mesh\f(\f#w-75\f%N.Modem\f.Modem\f(\f#w-65\f%N.Mqtt\f.Mqtt\f(\f#w-70\f@>Save\f4 \f&\f)\f#paragraph p-t-10'> S\fX one of the below \f:s, then Save to apply your c\fZs to the device(s) </\f)> <\f)\f#\ff'\f8\f#row\fK1\falabel>\f_ type='radio'\f#checkbox' name='SN_save_modes' checked='checked'\f3one'><div>Set To This <B>\fs Only</B></div></label> \f&div\f#row\fK1\falabel>\f_ type='radio'\f#checkbox' name='SN_save_modes'\f3all' ><div>Set To These <B>Mesh-Group \fss</B></div></label> \f&/\f)> <\f)\f#w-400'\f8\f#\f+1\fa\f/\f#\fR\few-90\f%\fp_Import()'>Import</\f/> <\f/\f#\fY \fem-l-5 w-90\f%\fp_Export()'>Export</\f/> <\f/\f#\fR\f9w-90\f%\fp\f\\\\Save</\f/> <\f/\f#key red \f9m-r-5 w-90\f%\f<Cancel</\f/> \f&div\f#\f+2\fa\f/\f#\fY w-100p\f%\fp_Restore()'>Restore To Factory</\f/> \f&/\f)> \f&div\fJN_\fhRestore'\f#\fCen'> <\f)\f#w-350'\f8\f#\f+3\fa\f)\f#warning blink'>Warning</\f)> \f&div\f#\f+1\fap>If You Press <b\f#text-ok'>OK</b> , Your \fs(s) Will Be Configured To Factory S\fws After Restart</p> \f&div\f#\f+5'> <p>Else Press <b\f#text-cancel'>Cancel</b> , To Return To The Previous Page, Without Any C\fZs</p> \f&/\f)> <\f)\f#\ff'\f8\f#\f+15'> <\f/\f#\fR\fc\f%N.Restore_Ok()'>OK</\f/> <\f/\f#\fN\f%\fp\f.Cancel</\f/> \f&/\f)> \f&div\fJN_\fhP\fj'\f#\fCfa'\f8\f#\fg'";
const char PROGMEM_HTML2[] PROGMEM = "\fA\f#w-65\f@>پروژه\f(\f#w-100'onclick='SN.Mesh\f.شبکه مش\f(\f#w-65\f%N.Modem\f.مودم\f(\f#w-70\f%N.Mqtt\f.پروتکل\f(\f#w-70\f%\fp\f.ذخیره\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>\f~ پروژه</\f)> \f&div\f#\f+15'\fA\f#\fiنوع ارتباط ابزار :\f4 <\f5\fJN_p\fj_circuit' onc\fZ='SN.P\fj_C\fZ()'> <\f:\f3iot' \f5ed='\f5ed' \fo='آی او تی (اینترنت اشیا از طریق مودم)'>اینترنت اشیا\f$wired' \fo='تنها به شبکه سیمی متصل است'>شبکه سیمی\f$wiot' \fo='همزمان به شبکه سیمی و اینترنت اشیا متصل است'>سیمی و اینترنت اشیا\f$wirefi' \fo='ارتباط سیمی بهمراه وای فای مش'>سیمی و وای فای\f$wifi' \fo='شبکه مش بین چند ابزار از طریق وای فای'>وای فای (شبکه مش)\f1/\f5> \f&div\f#\f+10'\fA\f#\fiگسترش دهنده :\f4 <\f5\fJN_p\fj_extender' \fo='اگر نیاز است این ابزار اکستندر باشد گزینه بلی را انتخاب کنید' onc\fZ='SN.P\fj_C\fZ()'> <\f:\f30' \f5ed='\f5ed' \fo\fxمعمولی / شبکه محلی'>خیر / شبکه محلی\f$2' \fo\fxمعمولی / سرور ابری'>خیر / سرور ابری\f$1' \fo\fxو همچنین انتقال داده ها بین خطوط سیم و بیسیم / شبکه محلی'>بلی / شبکه محلی\f$3' \fo\fxو همچنین انتقال داده ها بین خطوط سیم و بیسیم / سرور ابری'>بلی / سرور ابری\f1/\f5> \f&div\f#\f+10'\fA\f#\fiشناسه\fM\fMپروژه : \fM\f4 \f_\fJN_p\fj_code\fV\fz\f3'\f220> \f&div\f#\f+10'\fA\f#\fiکلید رمزنگاری : \fM\f4 \f_\fJN_p\fj_enckey\fV\fz\f3'\f216> \f&div\f#\f+2\fa\f/\f#\fY \fc\f%N.P\fj_Next()'>بعدی</\f/> <\f/\f#\fY left\f%G.S\fXion_Backed()'>بازگشت</\f/> \f&/\f)> \f&div\fJN_\fhMesh'\f#\fCfa'\f8\f#\fg'\fA\f#w-65\f%N.P\fj\f.پروژه\f(\f#w-100\f@>شبکه مش\f(\f#w-65\f%N.Modem\f.مودم\f(\f#w-70\f%N.Mqtt\f.پروتکل\f(\f#w-70\f%\fp\f.ذخیره\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>\f~ شبکه مش</\f)> \f&div\f#\f+25'\fA\f#\fiکانال\fM فرکانس مش :\f4 <\f5\fJN_mesh_channel' \fo='از یک کانال فرکانسی که در آن کمترین نویز سایر وای فای ها هست استفاده کنید' > <\f:\f31'>1\f$2'>2\f$3'>3\f$4'>4\f$5'>5\f$6'>6\f$7'>7\f$8'>8\f$9' \f5ed='\f5ed'>9\f$10'>10\f$11'>11\f1/\f5> \f&div\f#\f+10'\fA\f#\fiشناسه شبکه مش : \fM\f4 \f_\fJN_mesh_name\fV\fz\f3'\f26> \f&div\f#\f+10'\fA\f#\fiرمزعبور شبکه مش : \fM\f4 \f_\fJN_mesh_pass\fV\fz\f3'\f216> \f&div\f#\f+2\fa\f/\fJN_mesh_btnext'\f#\fY \fc\f%N.Mesh_Next()'>بعدی</\f/> <\f/\fJN_mesh_btprev'\f#\fY left\f%N.Mesh_Back()'>قبلی</\f/> \f&/\f)> \f&div\fJN_\fhModem'\f#\fCfa'\f8\f#\fg'\fA\f#w-65\f%N.P\fj\f.پروژه\f(\f#w-100\f%N.Mesh\f.شبکه مش\f(\f#w-65\f@>مودم\f(\f#w-70\f%N.Mqtt\f.پروتکل\f(\f#w-70\f%\fp\f.ذخیره\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>\f~ مودم</\f)> \f&div\f#\f+25'\fA\f#\fiانتخاب \fM کانال : \f4 <\f5\fJN_modem_channel'> <\f:\f30' \f5ed='\f5ed'>خودکار\f$1'>1\f$2'>2\f$3'>3\f$4'>4\f$5'>5\f$6'>6\f$7'>7\f$8'>8\f$9'>9\f$10'>10\f$11'>11\f1/\f5> \f&div\f#\f+10'\fA\f#\fiشناسه مودم : \fM\f4 \f_\fJN_modem_ssid\fV\fz\f3'\f232> \f&div\f#\f+10'\fA\f#\fiرمز عبور مودم : \fM\f4 \f_\fJN_modem_pass\fV\fz\f3'\f263> \f&div\f#\f+2\fa\f/\fJN_modem_btnext'\f#\fY \fc\f%N.Modem_Next()'>بعدی</\f/> <\f/\fJN_modem_btprev'\f#\fY left\f%N.Modem_Back()'>قبلی</\f/> \f&/\f)> \f&div\fJN_\fhMqtt'\f#\fCfa'\f8\f#\fg'\fA\f#w-65\f%N.P\fj\f.پروژه\f(\f#w-100\f%N.Mesh\f.شبکه مش\f(\f#w-65\f%N.Modem\f.مودم\f(\f#w-70\f@>پروتکل\f(\f#w-70\f%\fp\f.ذخیره\f4 \f&\f)\f#\ff'\f8\f#\f]\f)\f#\fF'>\f~ پروتکل MQTT</\f)> \f&div\f#\f+25'\fA\f#\fiنام کاربری اتصال : \fM\f4 \f_\fJN_mqtt_user\fV\fz\f3'\f216> \f&div\f#\f+10'\fA\f#\fiرمز\fM عبور\fM اتصال\fM\fM: \fM\f4 \f_\fJN_mqtt_pass\fV\fz\f3'\f216> \f&div\f#\f+10'\fA\f#\fiآدرس سرور بروکر: \fM\f4 \f&div\f#\f+5'\fH\fJN_mqtt_broker'\f#w-100p t-\fef-normal\fV\fz\f3'\f2100> \f&div\f#\f+2\fa\f/\fJN_mqtt_btnext'\f#\fY \fc\f%N.Mqtt_Next()'>بعدی</\f/> <\f/\fJN_mqtt_btprev'\f#\fY left\f%N.Mqtt_Back()'>قبلی</\f/> \f&/\f)> \f&div\fJN_\fhFinish'\f#\fCfa'\f8\f#\fg'\fA\f#w-65\f%N.P\fj\f.پروژه\f(\f#w-100'onclick='SN.Mesh\f.شبکه مش\f(\f#w-65\f%N.Modem\f.مودم\f(\f#w-70\f%N.Mqtt\f.پروتکل\f(\f#w-70\f@>ذخیره\f4 \f&\f)\f#paragraph f-14 p-t-10'> یکی از دو گزینه زیر را جهت اعمال تغییرات انتخاب کنید </\f)> <\f)\f#\ff'\f8\f#row\fK1\falabel>\f_ type='radio'\f#checkbox' name='SN_save_modes' checked='checked'\f3one'><div>اعمال تغییرات <B>فقط برای همین ابزار</B></div></label> \f&div\f#row\fK1\falabel>\f_ type='radio'\f#checkbox' name='SN_save_modes'\f3all' ><div>اعمال تغییرات <B>به همه ابزارهای متصل در مش</B></div></label> \f&/\f)> <\f)\f#w-400'\f8\f#\f+25'> <\f/\f#\fR\f9w-90\f%\fp_Import()'>بارگذاری</\f/> <\f/\f#\fY \f9m-l-5 w-90\f%\fp_Export()'>استخراج</\f/> <\f/\f#\fR\few-90\f%\fp\f\\\\ذخیره</\f/> <\f/\f#\fN\fb5 w-90\f%\f<\ft\f/> \f&div\f#\f+15'> <\f/\f#\fY w-100p\f%\fp_Restore()'>ریست به \f~ پیشفرض کارخانه</\f/> \f&/\f)> \f&div\fJN_\fhRestore'\f#\fCfa'> <\f)\f#w-350'\f8\f#\f+25'> <\f)\f#warning blink'>هشدار</\f)> \f&div\f#\f+2\fap>اگر دکمه <b\f#text-ok'>تایید</b> را بزنید ، \f~ پیشفرض کارخانه بارگذاری شده و سپس ابزار(ها) ریست میشوند</p> \f&div\f#\f+5'> <p>درغیر اینصورت دکمه <b\f#text-cancel'>\ftb> را بزنید تا بدون اعمال هیچگونه تغییری به صفحه قبلی باز گردید</p> \f&/\f)> <\f)\f#\ff'\f8\f#\f+15'> <\f/\f#\fR\fc\f%N.Restore_Ok()'>تایید</\f/> <\f/\f#\fN\f%\fp\f.\ft\f/> \f&/\f)> \f&div\fJU_\fhUpdate'\f#\fCen'> <\f)\f#w-400'\f8\f#\f+2\fa\f)\f#\fF'>Update Firmware Panel</\f)> \f&\f)\f#\f+5'> <form method='POST' action='/firmware' enctype='multipart/form-data' > <\f)\fJU_cver' style='color:black'>Current Vresion: 1.00</\f)> <\f)\f#\f+10'\f8\f#bt-site\f%U.Update_GetFile()'>Download From Web\f&/\f)> <\f)\f#\f+2'\fH\fJU_bt_submit\fVsubmit'\f#hide'\f3Update'\fH type='file'\f#hide' name='update'\fJU_file' onc\fZ='SU.Update_C\fZFile\fd> <label\fJU_file-input' for='SU_file'>S\fX Updater File...</label> <br\f8\fJU_prgbar'\f8\fJU_bar'>\f&/div\f8\fJU_prg'>\f&/\f)> </form> </\f)> </\f)> <\f)\f#\f+10 w-38\fa\f/\f#key \f9green w-100\f%U.Update_Apply()'>Update</\f/> <\f/\f#key \f9red w-150\fb14\f%U.Update_MemoryClean()'>Clean Memory</\f/> <\f/\f#key \feblue w-100\f%G.S\fXion_Backed()'>Back</\f/> </\f)> \f&div\fJU_\fhUpdate'\f#\fCfa'> <\f)\f#w-400'\f8\f#\f+2\fa\f)\f#\fF'>پنل ارتقاء فریمور</\f)> \f&\f)\f#\f+5'> <form method='POST' action='/firmware' enctype='multipart/form-data'> <\f)\fJU_cver' style='color:black'>Current Vresion: 1.00</\f)> <\f)\f#\f+10'\f8\f#bt-site\f%U.Update_GetFile()'>دانلود از طریق اینترنت\f&/\f)> <\f)\f#\f+2'\fH\fJU_bt_submit\fVsubmit'\f#hide'\f3Update'\fH type='file'\f#hide' name='update'\fJU_file' onc\fZ='SU.Update_C\fZFile\fd> <label\fJU_file-input' for='SU_file'>انتخاب فایل آپدیت...</label> <br\f8\fJU_prgbar'\f8\fJU_bar'>\f&/div\f8\fJU_prg'>\f&/\f)> </form> </\f)> </\f)> <\f)\f#\f+10 w-37\fa\f/\f#key \f9green w-110\f%U.Update_Apply()'>انجام آپدیت</\f/> <\f/\f#key \f9red w-120\fk14\f%U.Update_MemoryClean()'>تخلیه حافظه</\f/> <\f/\f#key \feblue w-110\f%G.S\fXion_Backed()'>بازگشت</\f/> </\f)> \f&div\fJT_\fhTouch'\f#\fCen'> <\f)\f#\ff'\f8\f#\f+10\fa\f)\f#\fF'>Coming Soon ...</\f)> \f&/\f)> <\f)\f#\ff p-t-100'\f8\f#\f+15\fb10\fa\f/\f#\fY\f%G.S\fXion\f.Back</\f/> \f&/\f)> \f&div\fJT_\fhTouch'\f#\fCfa'> <\f)\f#\ff'\f8\f#\f+10\fa\f)\f#\fF'>به زودی ...</\f)> \f&/\f)> <\f)\f#\ff'\f8\f#\f+100\fb10\fa\f/\f#\fY\f%G.S\fXion\f.بازگشت</\f/> \f&/\f)> \f&div\f#\f?PageS\fXor-Template lang-en'> <\f5\f#\f^\fXor-xxx' \fo='other s\fws'\f'PageS\fXor_C\fZ(this.value)'> <\f:\f3\f*\fO'>\fs \f*\f$\f;'>\f;s\f$\f-\fI'>Run Scene\f$S\fwBackup'>Backup\f1/\f5> \f&div\f,\fh\f*\fO'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg f-15'\fA\f#w-60\f@>\fO\f(\f#w-105\f%S.\f*\fL\f.Thermostat\f(\f#w-115\f%S.\f*\f=\f.\f= Input\f(\f#w-48\f%S.\f*GSM\f.GSM\f(\f#w-66\f%S.\f*\fG\f.\fG\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-16'>\fP\f#left'>\fO No\f4\fP\f#\fem-l-46'>Type\f4\fP\f#\f9f\f}Hold \fM Subnet \f* Channel\f4</\f)> \f&div\f#\f?\f*\fO\f>\f)\f,\f*\fO_#'\f#\f+10'\f8\f#lef\fQ6\fK3'>\fO #\f&div\f#\fc'\fH\f,\f*\fO_Ch#\f61\fW0\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Ad#\f61\fW4\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Sub#\f60\fW4\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Hold#'\f#hold f-12'\f29 \fo='Switch Off Delay,\fm\f'\f*\fO_Num\f0\f&\f5\f,\f*\fO_Type#'\f#\f9f-13 w-120\fK2'\f'\f*\fO_TypeC\fZ(this,#)'> <\f:\f300'>\fO\f$09'>\fO Remote\f$08'>Siren\f1\f:\f#curtain\f|\f302'>Curtain\f1\f:\f#cooler\f|\f304'>Cooler\f1\f:\f#fancoil\f|\f303'>Fancoil Simple\f1\f:\f#thermostat0\f|\f319'>Thermostat 0 Pipe\f1\f:\f#thermostat1\f|\f317'>Thermostat 1 Pipe\f1\f:\f#thermostat2\f|\f318'>Thermostat 2 Pipe\f$FF'>Unused\f1/\f5> </\f)> \f&div\f#SS-\f*\fO\f7\f&div\f#\f+15'> <hr\f#\fE \f&/\f)> <\f)";
const char PROGMEM_HTML3[] PROGMEM = "\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\fO\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> \f&/\f)> \f&div\f,\fh\f*\fL'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg f-15'\fA\f#w-60\f%S.\f*\fO\f.\fO\f(\f#w-105\f@ >Thermostat\f(\f#w-115\f%S.\f*\f=\f.\f= Input\f(\f#w-48\f%S.\f*GSM\f.GSM\f(\f#w-66\f%S.\f*\fG\f.\fG\f4 \f&\f)\f#\fv\f8\f#row'\f8\f#f-15 c-dark t-justify'>First, \f5 one or more relays as fancoils in the '\fO' tab, then use the below addressing to connect each thermostatic-fancoil to its corresponding temperature-sensor.\f&br> \f&div\f#\f+5'><hr\f#\fE\f&div\f#\f]\f)\f#\fF f\f}\fP\f#\fem-l-20'>\fO No\f4\fP\f#\fem-l-60'>Mode\f4\fP\f#\fem-l-30'>Set Point\f4\fP\f#\f9f-15\fb10'>Sensor \f*\f4</\f)> \f&div\f#\f?\f*\fL\f>\f)\f,\f*\fL_#'\f#\f+10'\fH\f,\f*\fL_\f*#'\f#\f9f-12 w-145'\f224\f'\f*\fL_\f0<\f5\f,\f*\fL_\fO#'\f#lef\fQ2 w-118\fk5'\f'\f*\fL_\f0@dvcOption@ </\f5> <\f5\f,\f*\fL_Setmode#'\f#lef\fQ2 w-100\fk5'\f'\f*\fL_\f0<\f:\f300' \f5ed='\f5ed'>Manual\f$01' >Auto Cooling\f$02' >Auto Heating\f1/\f5\fH\f,\f*\fL_Setpoint#'\f#lef\fQ4 w-45\fk5\f616 max=32\f22\f'\f*\fL_\f0</\f)> \f&div\f#\f+5'><hr\f#\fE\f&div\f#SS-\f*\fL\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\fL\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> \f&/\f)> \f&div\f,\fh\f*\f='\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg f-15'\fA\f#w-60\f%S.\f*\fO\f.\fO\f(\f#w-105\f%S.\f*\fL\f.Thermostat\f(\f#w-115\f@>\f= Input\f(\f#w-48\f%S.\f*GSM\f.GSM\f(\f#w-66\f%S.\f*\fG\f.\fG\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-14'>\fP\f#left'>\f= No.\f4\fP\f#\fem-l-20'>Type\f4\fP\f#\f9f\f}Use\fMas \fM \fM Subnet \f* Channel\f4</\f)> \f&div\f#\f?\f*\f=OptionR\f>\f:\f#relay\f|\f3@value@'>\fO #</\f:> \f&div\f#\f?\f*\f=OptionS\f>\f:\f3FF' \f5ed='\f5ed'>-\f$FE'>SceneKey</\f:> \f&div\f#\f?\f*\f=\f>\f)\f,\f*\f=_#'\f#\f+10'\f8\f#lef\fQ7\fK3'>D.I \fM#\f&div\f#\fc'\fH\f,\f*\f=_Ch#\f61\fW0\f23\f'\f*\f=_Num\f0\f_\f,\f*\f=_Ad#\f61\fW4\f23\f'\f*\f=_Num\f0\f_\f,\f*\f=_Sub#\f60\fW4\f23\f'\f*\f=_Num\f0\f&\f5\f,\f*\f=_Use#'\f#\f9f-13 w-85\fK2'\f'\f*\f=_UseC\fZ(this,#)'> @\f:s_dvc@ </\f5> <\f5\f,\f*\f=_Type#'\f#\f9\fl80\fK2\fb5'\f'\f*\f=_TypeC\fZ(this,#)'> <\f:\f301'>1 State\f$16'>2 State\f$15'>Toggle\f$FF'>Unused\f1/\f5> </\f)> \f&div\f#SS-\f*\f=\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\f=\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> \f&/\f)> \f&div\f,\fh\f*GSM'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg f-15'\fA\f#w-60\f%S.\f*\fO\f.\fO\f(\f#w-105\f%S.\f*\fL\f.Thermostat\f(\f#w-115\f%S.\f*\f=\f.\f= Input\f(\f#w-48\f@>GSM\f(\f#w-66\f%S.\f*\fG\f.\fG\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF'>\fP\f#lef\fQ8'>G.S.M\f4\fP\f#lef\fQ6\fk100'>Type\f4\fP\f#\f9f\f}Subnet\fM \f*\fM Channel\f4</\f)> \f&div\f#\f]\f)\f#\f+10'\f8\f#lef\fQ5\fK5'>SMS/Call \fs\f&div\f#\fc'\fH\f,\f*GSM_Ch\f61\fW0\f23\f'\f*GSM_NumC\fZ\fd\fH\f,\f*GSM_Ad\f61\fW4\f23\f'\f*GSM_NumC\fZ\fd\fH\f,\f*GSM_Sub\f60\fW4\f23\f'\f*GSM_NumC\fZ\fd> \f&/\f)> <\f5\f,\f*GSM_Type'\f#\f9f-14 h-26 w-90\fK1'\f'\f*GSM_TypeC\fZ\fd> <\f:\f307'>GSM\f$FF'>Unused\f1/\f5> \f&div\f#\f+15'> <hr\f#\fE \f&div\f#\f+5'\f8\f#lef\fQ3\fK5'>Check &amp; Receive SMS :\f&\f/\f#\fe\fu w-140 f-15\f%S.\f*GSM_TestRSSI()'>Network Signal</\f/> <\f/\f#\f9\fu f-15\f%S.\f*GSM_TestMoney()'>Credit Valid</\f/> \f&div\f#\f+15'> <hr\f#\fE \f&div\f#\f+5'\f8\f#lef\fQ5'>Phone No 1 :\f&\f/\f#\f9\fu\f%S.\f*GSM_TestCall(1)'>Call Test</\f/\fH\f,\f*\f{1'\f#\f9w-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+10'\f8\f#lef\fQ5'>Phone No 2 :\f&\f/\f#\f9\fu\f%S.\f*GSM_TestCall(2)'>Call Test</\f/\fH\f,\f*\f{2'\f#\f9w-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+10'\f8\f#lef\fQ5'>Phone No 3 :\f&\f/\f#\f9\fu\f%S.\f*GSM_TestCall(3)'>Call Test</\f/\fH\f,\f*\f{3'\f#\f9w-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+15'> <hr\f#\fE \f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*GSM\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> \f&/\f)> \f&div\f,\fh\f*\fG'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg f-15'\fA\f#w-60\f%S.\f*\fO\f.\fO\f(\f#w-105\f%S.\f*\fL\f.Thermostat\f(\f#w-115\f%S.\f*\f=\f.\f= Input\f(\f#w-48\f%S.\f*GSM\f.GSM\f(\f#w-66\f@>\fG\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF'>\fP\f#lef\fQ8'>\fG\f4\fP\f#lef\fQ6\fk100'>Type\f4\fP\f#\f9f\f}Subnet\fM \f*\fM Channel\f4</\f)> \f&div\f#\f+4'> <\f)\f#row'\f8\f#lef\fQ4\fK5'>\fG Receiver\f&div\f#\fc'\fH\f,\f*\fG_Ch\f61\fW0\f23\f'\f*\fG_NumC\fZ\fd\fH\f,\f*\fG_Ad\f61\fW4\f23\f'\f*\fG_NumC\fZ\fd\fH\f,\f*\fG_Sub\f60\fW4\f23\f'\f*\fG_NumC\fZ\fd> \f&/\f)> <\f5\f,\f*\fG_Type'\f#\f9f-13 h-26 w-130\fK1'\f'\f*\fG_TypeC\fZ\fd> <\f:\f313'>\fG Status\f$14'>\fG Toggle\f$FF'>Unused\f1/\f5> \f&div\f#\f+\f`\f#\fE\f&div\f#\f+1'> <\f)\f#\fF f-14'\fA\f#left'>\fO-Toggle\f4\fP\f#\fc'>Press to Learn\f4\fP\f#\f9m-r-27'>Clean Row\f4\fP\f#\f9m-r-27'>Learn-State\f4 </\f)> \f&div\f#\f?\f*\fG-\fO\f>\f)\f,\f*\fG_\fO#'\f#\f+4'\f8\f#lef\fQ2\fK3'>@\fORow@\f&\f/\f#\f9m-l-5\fb0 w-98 bt-med linked-relay' disabled onclick='SS.\f*\fG_\fOLearn(#,true)'>Learn</\f/> <\f/\f#\f9m-r-9 w-100 bt-med linked-relay\f%S.\f*\fG_\fOLearn(#,false)'>Clean</\f/\fH\f,\f*\fG_\fOState#'\f#\f9m-l-0\fb12 state\fV\fz> </\f)> \f&div\f#SS-\f*\fG-\fO\f7\f&div\f#\f+20'><hr\f#\fE\f&div\f#\f+1'> <\f)\f#\fF f-14'\fA\f#left'>Status No.\f4\fP\f#\fc'>Press to Learn\f4\fP\f#\f9m-r-27'>Clean Row\f4\fP\f#\f9m-r-27'>Learn-State\f4 </\f)> \f&div\f#\f?\f*\fG-Status\f>\f)\f,\f*\fG_Status#'\f#\f+4'\f8\f#lef\fQ7\fK3'>Status #\f&\f/\f#\f9m-l-5\fb0 w-98 bt-med\f%S.\f*\fG_StatusLearn(#,1)'>Learn</\f/> <\f/\f#\f9m-r-9 w-100 bt-med\f%S.\f*\fG_StatusLearn(#,0)'>Clean</\f/\fH\f,\f*\fG_StatusState#'\f#\f9m-l-0\fb12 state\fV\fz > </\f)> \f&div\f#SS-\f*\fG-Status\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f*\fG\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f;'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fg m-b-20'\fA\f#w-140\f@>Set \f;\f(\f#w-150\f%S.SceneInfo\f.Overview Table\f4 \f&\f)\f#w-43\fa\f)\f#\f+0'\f8\f#\f?\f;_S\fXorOption\f>\f:\f3@value@'>@name@</\f:> \f&div\f#lef\fQ6'>S\fX \f;\f&\f5\f,\f;_S\fXor'\f#\f9w-300'\f'\f;_S\fXorC\fZ\fd> </\f5> </\f)> <\f)\f#\f+10'\f8\f#lef\fQ6'>Edit The Name\f&input\f,\f;_Name'\f#\f9w-300'\f212> </\f)\f8\f#\f?\f;-\fOOptions\f>\f: \fB00,01,09,08,02,04\fy'\f3FF'>-\f1\f: \fB00,01,09,08,04\fy'\f300'>Off\f1\f: \fB00,01,09,08,'\f301'>On\f1\f: \fB00,01,09,'\f302'>Toggle\f1\f: \fB02,'\f301'>Open\f1\f: \fB02,'\f302'>Close\f1\f: \fB02,'\f300'>Stop\f1\f: \fB04\fy'\f301'>Low Speed\f1\f: \fB03,17,18,19,'\f302'>Mid Speed\f1\f: \fB04\fy'\f303'>>High Speed\f1\f: \fB04,'\f311'>Pump On\f1\f: \fB04,'\f310'>Pump Off\f1\f: \fB17,18,19,'\f304'>Cooling Mode\f1\f: \fB17,18,19,'\f305'>Heating Mode\f1\f: \fB17,18,19,'\f306'>Manual Mode\f1\f: \fB00,01,\fT\f3FE'>\fs Lock\f1\f: \fB00,01,\fT\f3FD'>\fs Unlock\f1\f: \fB00,01,\fT\f3FC'>Baby Lock\f1\f: \fB00,01,\fT\f3FB'>Baby Unlock</\f:> \f&div\f#\f?\f;-\fO\f>\f)\f#\f+10'\f8\f#lef\fQ5'>\fO\f&input\f,\f;_\fO\fn\f#\f9hold f-12 w-55'\f29 \fo='Delay\fm\f'\f;_\fODelay\f0<\f5\f,\f;_\fOCmd#'\f#\f9f-13 w-110\fb5'\f'\f;_\fOCmd\f0<\f: \fB00,\fT\f3FF'>-\f1/\f5> <\f5\f,\f;_\fOType#'\f#\f9f-13 w-200\fb5'\f'\f;_\fOType\f0@dvcOption@ </\f5> </\f)> \f&div\f#\f+\f`\f#\fE\f&div\f#SS-\f;-\fO\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-GSM\f>\f)\f#\f+10'\f8\f#lef\fQ5\fK2'>GSM\f&input\f,\f;_GSM\fn\f#\f9hold f-12 w-55'\f29 \fo='Delay\fm\f'\f;_GSMDelay\f0\f_\f,\f;_GSMVal#'\f#\f9w-60\fb5' min='1' max='250'\f23 type='number'\f'\f;_GSM\f0\f_\f,\f;_GSMPhone#'\f#\f9m-r-5 w-165'\f214\f'\f;_GSM\f0<\f5\f,\f;_GSMCmd#'\f#\f9\fl80\fb5'\f'\f;_GSM\f0<\f:\f3FF'>-\f$01'>SMS To\f$11'>SMS No. 1\f$12'>SMS No. 2\f$13'>SMS No. 3\f$00'>Call To\f$21'>Call No. 1\f$22'>Call No. 2\f$23'>Call No. 3\f1/\f5> </\f)> \f&div\f#SS-\f;-GSM\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-\fI\f>\f)\f#\f+10'\f8\f#lef\fQ5\fK2'>\fI Status\f&input\f,\f;_\fI\fn\f#\f9hold f-12 w-55'\f29 \fo='Delay\fm\f'\f;_\fIDelay\f0\f_\f,\f;_\fIVal#'\f#\f9w-60\fb5' min='1' max='250'\f23 type='number'\f'\f;_\fI\f0<\f5\f,\f;_\fICmd#'\f#\f9\fl165\fb5'\f'\f;_\fI\f0<\f:\f3FF'>-\f$01'>Send Status\f1/\f5> </\f)> \f&div\f#SS-\f;-\fI\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-Code\f>\f)\f#\f+10'\f8\f#lef\fQ5\fK2'>Send Code\f&input\f,\f;_Code\fn\f#\f9hold f-12 w-55'\f29 \fo='Delay\fm\f'\f;_CodeDelay\f0\f_\f,\f;_CodeVal#'\f#\f9\f[165\fb5'\f220\f'\f;_Code\f0<\f5\f,\f;_Code";
const char PROGMEM_HTML4[] PROGMEM = "Cmd#'\f#\f9\fl60\fb5'\f'\f;_Code\f0<\f:\f3FF'>-\f$01'>Hex\f$02'>Text\f1/\f5> </\f)> \f&div\f#SS-\f;-Code\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f;\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-\f='\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f@>S. \f=\f(\f#w-55\f%S.\f-GSM\f.S. GSM\f(\f#w-70\f%S.\f-\fG\f.S. \fG\f(\f#w-70\f%S.\f-\fI\f.S. \fI\f(\f#w-55\f%S.\f-Code\f.S. Code\f(\f#w-70\f%S.\f-\fD\f.S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ5'>\f= No.\f4\fP\f#\fem-l-50'>Condition &amp; Action\f4\fP\f#\f9f-15 p-r-35'>\f;\f4</\f)> \f&div\f#\f?\f-\f=\f>\f)\f,\f-\f=_#'\f#\f+1\fa\f5\f,\f-\f=_Dvc#'\f#lef\fQ4 w-115\fK2'\f'\f-\f=_\f0@\f:s_dvc@ </\f5> <\f5\f,\f-\f=_Con#'\f#lef\fQ4 w-85\fK2\fk5'\f'\f-\f=_\f0<\f:\f3FF'>-\f$00'>Off\f$01'>On\f1/\f5> <\f5\f,\f-\f=_Sen#'\f#\f9\fl135\fK2'\f'\f-\f=_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\f=_Act#'\f#\f9\fl75\fK2\fb5'\f'\f-\f=_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-\f=\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\f=\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-GSM'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f%S.\f-\f=\f.S. \f=\f(\f#w-55\f@>S. GSM\f(\f#w-70\f%S.\f-\fG\f.S. \fG\f(\f#w-70\f%S.\f-\fI\f.S. \fI\f(\f#w-55\f%S.\f-Code\f.S. Code\f(\f#w-70\f%S.\f-\fD\f.S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ5'>GSM Receive\f4\fP\f#\fem-l-32'>Condition &amp; Action\f4\fP\f#\f9f-15 p-r-35'>\f;\f4</\f)> \f&div\f#\f?\f-GSM\f>\f)\f,\f-GSM_#'\f#\f+1\fa\f5\f,\f-GSM_Dvc#'\f#lef\fQ5 w-115\fK2'\f'\f-GSM_\f0<\f:\f3FF'>-\f$00'>Call\f$01'>SMS\f1/\f5\fH\f,\f-GSM_Con#'\f#lef\fQ5 w-85\fK2\fk5\f61\fW0\f23\f'\f-GSM_\f0<\f5\f,\f-GSM_Sen#'\f#\f9\fl135\fK2'\f'\f-GSM_\f0@\f:s_sen@ </\f5> <\f5\f,\f-GSM_Act#'\f#\f9\fl75\fK2\fb5'\f'\f-GSM_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-GSM\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-GSM\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-\fG'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f%S.\f-\f=\f.S. \f=\f(\f#w-55\f%S.\f-GSM\f.S. GSM\f(\f#w-70\f@>S. \fG\f(\f#w-70\f%S.\f-\fI\f.S. \fI\f(\f#w-55\f%S.\f-Code\f.S. Code\f(\f#w-70\f%S.\f-\fD\f.S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ4'>\fG Receive\f4\fP\f#\fem-l-25'>Condition &amp; Action\f4\fP\f#\f9f-15 p-r-35'>\f;\f4</\f)> \f&div\f#\f?\f-\fG\f>\f)\f,\f-\fG_#'\f#\f+1\fa\f5\f,\f-\fG_Dvc#'\f#lef\fQ5 w-115\fK2'\f'\f-\fG_\f0<\f:\f3FF'>-\f$01'>Status\f1/\f5> <\f5\f,\f-\fG_Con#'\f#lef\fQ3 w-85\fK2\fk5'\f'\f-\fG_\f0@\f:s_dvc@ </\f5> <\f5\f,\f-\fG_Sen#'\f#\f9\fl135\fK2'\f'\f-\fG_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fG_Act#'\f#\f9\fl75\fK2\fb5'\f'\f-\fG_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-\fG\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fG\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-\fI'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f%S.\f-\f=\f.S. \f=\f(\f#w-55\f%S.\f-GSM\f.S. GSM\f(\f#w-70\f%S.\f-\fG\f.S. \fG\f(\f#w-70\f@>S. \fI\f(\f#w-55\f%S.\f-Code\f.S. Code\f(\f#w-70\f%S.\f-\fD\f.S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ5'>\fI Value\f4\fP\f#\fem-l-32'>Condition &amp; Action\f4\fP\f#\f9f-15 p-r-35'>\f;\f4</\f)> \f&div\f#\f?\f-\fI\f>\f)\f,\f-\fI_#'\f#\f+1\fa\f5\f,\f-\fI_Dvc#'\f#lef\fQ3 w-120\fK2'\f'\f-\fI_\f0<\f:\f3FF'>-\f$01'>Receive Value\f1/\f5\fH\f,\f-\fI_Con#'\f#lef\fQ5 w-80\fK2\fk5\f61\fW0\f23\f'\f-\fI_\f0<\f5\f,\f-\fI_Sen#'\f#\f9\fl135\fK2'\f'\f-\fI_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fI_Act#'\f#\f9\fl75\fK2\fb5'\f'\f-\fI_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-\fI\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fI\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-Code'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f%S.\f-\f=\f.S. \f=\f(\f#w-55\f%S.\f-GSM\f.S. GSM\f(\f#w-70\f%S.\f-\fG\f.S. \fG\f(\f#w-70\f%S.\f-\fI\f.S. \fI\f(\f#w-55\f@>S. Code\f(\f#w-70\f%S.\f-\fD\f.S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ5'>Code Receive\f4\fP\f#\fem-l-28'>Condition &amp; Action\f4\fP\f#\f9f-15 p-r-35'>\f;\f4</\f)> \f&div\f#\f?\f-Code\f>\f)\f,\f-Code_#'\f#\f+1\fa\f5\f,\f-Code_Dvc#'\f#lef\fQ4 w-55\fK2'\f'\f-Code_\f0<\f:\f3FF'>-\f$01'>Hex\f$02'>Text\f1/\f5\fH\f,\f-Code_Con#'\f#lef\fQ2 w-150\fK2\fk4'\f220\f'\f-Code_\f0<\f5\f,\f-Code_Sen#'\f#\f9\fl135\fK2'\f'\f-Code_\f0@\f:s_sen@ </\f5> <\f5\f,\f-Code_Act#'\f#\f9\fl75\fK2\fb5'\f'\f-Code_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-Code\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-Code\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fh\f-\fD'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f- f-11'\fA\f#w-70\f%S.\f-\f=\f.S. \f=\f(\f#w-55\f%S.\f-GSM\f.S. GSM\f(\f#w-70\f%S.\f-\fG\f.S. \fG\f(\f#w-70\f%S.\f-\fI\f.S. \fI\f(\f#w-55\f%S.\f-Code\f.S. Code\f(\f#w-70\f@ >S. \fD\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-14'>\fP\f#left'>Other \fs\f4\fP\f#\f9f-14'>Channel\f4\fP\f#\f9f-14\fb5'>\f*\f4\fP\f#\f9f-14\fb7'>Subnet\f4\fP\f#\f9m-r-30'>\fs Type\f4</\f)> \f&\f)\f#\f+10'\f8\f#lef\fQ5\fK1'>\fD \fs\f&input\f,\f-\fD\f*_S_Ch'\f#\f9w-55' style='visibility:hidden\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_S_Ad'\f#\f9w-55\fb5\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_S_Sub'\f#\f9w-55\fb5\f60\fW4\f23\f'\f-\fD_\f*C\fZ()'> <\f5\f,\f-\fD\f*_S_Type'\f#\f9\fl126\fb5'\f'\f-\fD_\f*C\fZ\fd> <\f:\f30B'>Multi Sensor\f$FF'>Unused\f1/\f5> </\f)> <\f)\f#\f+10'\f8\f#lef\fQ5\fK1'>\fD \fs\f&input\f,\f-\fD\f*_R_Ch'\f#\f9w-55\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_R_Ad'\f#\f9w-55\fb5\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_R_Sub'\f#\f9w-55\fb5\f60\fW4\f23\f'\f-\fD_\f*C\fZ()'> <\f5\f,\f-\fD\f*_R_Type'\f#\f9\fl126\fb5'\f'\f-\fD_\f*C\fZ\fd> <\f:\f313'>\fG Receive\f$FF'>Unused\f1/\f5> </\f)\f8\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#w-440'\f8\f#\f]\f)\f#\fF f\f}\fP\f#lef\fQ3\fK2'>\fDSensor\f4\fP\f#lef\fQ3\fK2\fk12'>Condition \fMMin \fM-\fM Max\f4\fP\f#\f9p-r-27'>\f;\f4\fP\f#\f9p-r-30'>Action\f4</\f)> \f&div\f#\f?\f-\fD\f>\f)\f,\f-\fD_#'\f#\f+1\fa\f5\f,\f-\fD_Dvc#'\f#lef\fQ2 w-97\fK2'\f'\f-\fD_\f0<\f:\f3FF'>-\f$13'>\fG Rcv\f$0B'>Temperature\f$0C'>Lux\f$0D'>Gas &amp; Smoke\f$0E'>Motion\f$10'>Humidity Air\f$11'>Humidity Soil\f$0F'>Magnet\f1/\f5> <\f5\f,\f-\fD_Con#'\f#\fef-bold \fl45\fK2\fk3'\f'\f-\fD_\f0<\f:\f3==' >==\f$<=' >&lt;=\f$>=' >&gt;=\f$<>' >&lt; &gt;\f1/\f5\fH\f,\f-\fD_ConMin#\fVnumber'\f#lef\fQ2 w-53\fK2\fk3 hide-disabled' min=0\f25\f'\f-\fD_\f0\f_\f,\f-\fD_ConMax#\fVnumber'\f#lef\fQ2 w-53\fK2\fk3 hide-disabled' min=0\f25\f'\f-\fD_\f0<\f5\f,\f-\fD_Sen#'\f#\f9f-12 w-112\fK2'\f'\f-\fD_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fD_Act#'\f#\f9f-12 w-65\fK2\fb3'\f'\f-\fD_\f0<\f: \f5ed\f302'>Run\f$01'>Enable\f$00'>Disable\f1/\f5> </\f)> \f&div\f#SS-\f-\fD\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fD\f\\\\Save</\f/> <\f/\f#\fN\f%\f<Cancel</\f/> </\f)> \f&div\f,\fhS\fwBackup'\f#\fCen'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#menu-active w-200'>S\fw-Data Backup\f4 \f&\f)\f#w-400 row f\f} <p\f#greenlight'\fA>You can back up current s\fws data of this device (include adresses and scenarios) by Exporting JSON file\f4 <br\f#h-1'> <\f/\f#key greendark float-none\fK12\f%S.S\fwBackup_Export()'>Export</\f/> </p> <p\f#redb\f9m-t-15'\fA\f#f-14'> You can use the exported JSON file to Import the data of your previous s\fws instead of the current s\fws\f4 <br\fA\f#blink-light f-bold p-t-5 c-white'>Warning !<br>Importing will overwrite the current s\fws\f4 <br\f#h-1'> <\f/\f#key red float-none\fK12\f%S.S\fwBackup_Import()'>Import</\f/> </p> </\f)\f8\f#\f+10'><hr\f#\fE\f&\f)\f#\ff row p-b-5'> <\f/\f#\fY float-none\f%G.S\fXion_Backed()'>Back</\f/> </\f)> \f&div\f#\f?PageS\fXor-Template lang-fa'> <\f5\f#f-15 \f^\fXor-xxx' \fo='other s\fws'\f'PageS\fXor_C\fZ(this.value)'> <\f:\f3\f*\fO'>آدرس ابزارها\f$\f;'>تعریف سناریوها\f$\f-\fI'>شرط اجرای سناریو\f$S\fwBackup'>پشتیبان \f~\f1/\f5> \f&div\f,\fh\f*\fO'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg f-13'\fA\f#w-38\f@>رله\f(\f#w-77\f%S.\f*\fL\f.ت";
const char PROGMEM_HTML5[] PROGMEM = "رموستات\f(\f#w-105\f%S.\f*\f=\f.ورودی دیجیتال\f(\f#w-100\f%S.\f*GSM\f.تماس و پیامک\f(\f#w-77\f%S.\f*\fG\f.گیرنده433\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-16'>\fP\f#left'>\fO No\f4\fP\f#\fem-l-46'>Type\f4\fP\f#\f9f\f}Hold \fM Subnet \f* Channel\f4</\f)> \f&div\f#\f?\f*\fO\f>\f)\f,\f*\fO_#'\f#\f+10'\f8\f#lef\fQ6\fK3'>رله #\f&div\f#\fc'\fH\f,\f*\fO_Ch#\f61\fW0\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Ad#\f61\fW4\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Sub#\f60\fW4\f23\f'\f*\fO_Num\f0\f_\f,\f*\fO_Hold#'\f#hold f-12'\f29 \fo='خاموشی خودکار رله بر حسب دقیقه و ثانیه (MM:SS)'\f'\f*\fO_Num\f0\f&\f5\f,\f*\fO_Type#'\f#\f9f-13 w-120\fK2'\f'\f*\fO_TypeC\fZ(this,#)'> <\f:\f300'>رله\f$09'>رله ریموت\f$08'>آژیر\f1\f:\f#curtain\f|\f302'>پرده\f1\f:\f#cooler\f|\f304'>کولر\f1\f:\f#fancoil\f|\f303'>فنکویل ساده\f1\f:\f#thermostat1\f|\f319'>ترموستات 0 پایپ\f1\f:\f#thermostat1\f|\f317'>ترموستات 1 پایپ\f1\f:\f#thermostat2\f|\f318'>ترموستات 2 پایپ\f$FF'>عدم استفاده\f1/\f5> </\f)> \f&div\f#SS-\f*\fO\f7\f&div\f#\f+15'> <hr\f#\fE \f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\fO\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> \f&/\f)> \f&div\f,\fh\f*\fL'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg f-13'\fA\f#w-38\f%S.\f*\fO\f.رله\f(\f#w-77\f@>ترموستات\f(\f#w-105\f%S.\f*\f=\f.ورودی دیجیتال\f(\f#w-100\f%S.\f*GSM\f.تماس و پیامک\f(\f#w-77\f%S.\f*\fG\f.گیرنده433\f4 \f&\f)\f#\fv\f8\f#row'\f8\f#f-15 c-dark t-justify'>ابتدا در تب 'رله' یک یا چند گزینه را روی حالت فنکویل قرار دهید ، سپس در بخش زیر میتوانید ارتباط هر فنکویل را با آدرس سنسور دمای مربوط به آن تنظیم کنید\f&br> \f&div\f#\f+5'><hr\f#\fE\f&div\f#\f]\f)\f#\fF f\f}\fP\f#\f9m-r-25'>رله مربوطه\f4\fP\f#\f9m-r-55'>حالت\f4\fP\f#\f9m-r-40'>درجه\f4\fP\f#lef\fQ5\fk10'>آدرس سنسور\f4</\f)> \f&div\f#\f?\f*\fL\f>\f)\f,\f*\fL_#'\f#\f+10'\fH\f,\f*\fL_\f*#'\f#lef\fQ2 w-145' style='direction:ltr'\f224\f'\f*\fL_\f0<\f5\f,\f*\fL_\fO#'\f#\f9f-12 w-118\fb5' style='direction:ltr'\f'\f*\fL_\f0@dvcOption@ </\f5> <\f5\f,\f*\fL_Setmode#'\f#\f9f-12 w-100\fb5'\f'\f*\fL_\f0<\f:\f300' \f5ed='\f5ed'>Manual\f$01' >Auto Cooling\f$02' >Auto Heating\f1/\f5\fH\f,\f*\fL_Setpoint#'\f#\f9\fl45\fb5\f616 max=32\f22\f'\f*\fL_\f0</\f)> \f&div\f#\f+5'><hr\f#\fE\f&div\f#SS-\f*\fL\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\fL\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> \f&/\f)> \f&div\f,\fh\f*\f='\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg f-13'\fA\f#w-38\f%S.\f*\fO\f.رله\f(\f#w-77\f%S.\f*\fL\f.ترموستات\f(\f#w-105\f@>ورودی دیجیتال\f(\f#w-100\f%S.\f*GSM\f.تماس و پیامک\f(\f#w-77\f%S.\f*\fG\f.گیرنده433\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-14'>\fP\f#left'>\f= No.\f4\fP\f#\fem-l-20'>Type\f4\fP\f#\f9f\f}Use\fMas \fM \fM Subnet \f* Channel\f4</\f)> \f&div\f#\f?\f*\f=OptionR\f>\f:\f#relay\f|\f3@value@'>رله #</\f:> \f&div\f#\f?\f*\f=OptionS\f>\f:\f3FF' \f5ed='\f5ed'>-\f$FE'>کلید سناریو</\f:> \f&div\f#\f?\f*\f=\f>\f)\f,\f*\f=_#'\f#\f+10'\f8\f#lef\fQ7\fK3'>D.I \fM#\f&div\f#\fc'\fH\f,\f*\f=_Ch#\f61\fW0\f23\f'\f*\f=_Num\f0\f_\f,\f*\f=_Ad#\f61\fW4\f23\f'\f*\f=_Num\f0\f_\f,\f*\f=_Sub#\f60\fW4\f23\f'\f*\f=_Num\f0\f&\f5\f,\f*\f=_Use#'\f#\f9f-13 w-85\fK2'\f'\f*\f=_UseC\fZ(this,#)'> @\f:s_dvc@ </\f5> <\f5\f,\f*\f=_Type#'\f#\f9f-13 w-80\fK2\fb5'\f'\f*\f=_TypeC\fZ(this,#)'> <\f:\f301'>1 حالته\f$16'>2 حالته\f$15'>تعویض حالت\f$FF'>عدم استفاده\f1/\f5> </\f)> \f&div\f#SS-\f*\f=\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*\f=\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> \f&/\f)> \f&div\f,\fh\f*GSM'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg f-13'\fA\f#w-38\f%S.\f*\fO\f.رله\f(\f#w-77\f%S.\f*\fL\f.ترموستات\f(\f#w-105\f%S.\f*\f=\f.ورودی دیجیتال\f(\f#w-100\f@>تماس و پیامک\f(\f#w-77\f%S.\f*\fG\f.گیرنده433\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF'>\fP\f#\f9f-18'>G.S.M\f4\fP\f#\f9f-16\fb100'>Type\f4\fP\f#lef\fQ5\fk10'>Subnet\fM \f*\fM Channel\f4</\f)> \f&div\f#\f]\f)\f#\f+10'\f8\f#\f9f-14\fK5'>سیستم پیامک\f&div\f#left'\fH\f,\f*GSM_Ch\f61\fW0\f23\f'\f*GSM_NumC\fZ\fd\fH\f,\f*GSM_Ad\f61\fW4\f23\f'\f*GSM_NumC\fZ\fd\fH\f,\f*GSM_Sub\f60\fW4\f23\f'\f*GSM_NumC\fZ\fd> \f&/\f)> <\f5\f,\f*GSM_Type'\f#lef\fQ4 h-26 w-90\fK1\fk5'\f'\f*GSM_TypeC\fZ\fd> <\f:\f307'>جی اس ام\f$FF'>عدم استفاده\f1/\f5> \f&div\f#\f+15'> <hr\f#\fE \f&div\f#\f+5'\f8\f#\f9f-13\fK5'>تست و دریافت پیام :\f&\f/\f#\f9m-r-20 bt-med w-140 f-14\f%S.\f*GSM_TestRSSI()'>بررسی پوشش شبکه</\f/> <\f/\f#\fe\fu f-14\f%S.\f*GSM_TestMoney()'>بررسی میزان اعتبار</\f/> \f&div\f#\f+15'> <hr\f#\fE \f&div\f#\f+5'\f8\f#\f9f\f}شماره تماس 1 :\f&\f/\f#\fe\fu\f%S.\f*GSM_TestCall(1)'>تست تماس</\f/\fH\f,\f*\f{1'\f#\few-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+10'\f8\f#\f9f\f}شماره تماس 2 :\f&\f/\f#\fe\fu\f%S.\f*GSM_TestCall(2)'>تست تماس</\f/\fH\f,\f*\f{2'\f#\few-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+10'\f8\f#\f9f\f}شماره تماس 3 :\f&\f/\f#\fe\fu\f%S.\f*GSM_TestCall(3)'>تست تماس</\f/\fH\f,\f*\f{3'\f#\few-155\fV\fz\f215\f'\f*\f{C\fZ\fd> \f&div\f#\f+15'> <hr\f#\fE \f&/\f)> <\f)\f#\ff'\f8\f#\f+2\fU\f/\f#\fR\fc\f%S.\f*GSM\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> \f&/\f)> \f&div\f,\fh\f*\fG'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg f-13'\fA\f#w-38\f%S.\f*\fO\f.رله\f(\f#w-77\f%S.\f*\fL\f.ترموستات\f(\f#w-105\f%S.\f*\f=\f.ورودی دیجیتال\f(\f#w-100\f%S.\f*GSM\f.تماس و پیامک\f(\f#w-77\f@>گیرنده433\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF'\fA\f#lef\fQ8'>\fG\f4\fP\f#lef\fQ6\fk100'>Type\f4\fP\f#\f9f\f}Subnet\fM \f*\fM Channel\f4 </\f)> \f&div\f#\f+4'> <\f)\f#row'\f8\f#lef\fQ4\fK5'>گیرنده ریموت\f&div\f#\fc'\fH\f,\f*\fG_Ch\f61\fW0\f23\f'\f*\fG_NumC\fZ\fd\fH\f,\f*\fG_Ad\f61\fW4\f23\f'\f*\fG_NumC\fZ\fd\fH\f,\f*\fG_Sub\f60\fW4\f23\f'\f*\fG_NumC\fZ\fd> \f&/\f)> <\f5\f,\f*\fG_Type'\f#\f9f-14 h-26 w-150\fK1'\f'\f*\fG_TypeC\fZ\fd> <\f:\f313'>433 - ارسال وضعیت\f$14'>433 - ارسال دوحالته\f$FF'>عدم استفاده\f1/\f5> \f&div\f#\f+\f`\f#\fE\f&div\f#\f+1'> <\f)\f#\fF f-14'\fA\f#left'>\fO-Toggle\f4\fP\f#\fc'>Press to Learn\f4\fP\f#\f9m-r-27'>Clean Row\f4\fP\f#\f9m-r-27'>Learn-State\f4 </\f)> \f&div\f#\f?\f*\fG-\fO\f>\f)\f,\f*\fG_\fO#'\f#\f+4'\f8\f#lef\fQ5\fK3'>@\fORow@\f&\f/\f#\f9m-l-5\fb0 w-98 bt-med linked-relay' disabled onclick='SS.\f*\fG_\fOLearn(#,true)'>ست کردن</\f/> <\f/\f#\f9m-r-9 w-100 bt-med linked-relay\f%S.\f*\fG_\fOLearn(#,false)'>حذف</\f/\fH\f,\f*\fG_\fOState#'\f#\f9m-l-0\fb12 state\fV\fz> </\f)> \f&div\f#SS-\f*\fG-\fO\f7\f&div\f#\f+20'><hr\f#\fE\f&div\f#\f+1'> <\f)\f#\fF f-14'\fA\f#left'>Status No\f4\fP\f#\fc'>Press to Learn\f4\fP\f#\f9m-r-27'>Clean Row\f4\fP\f#\f9m-r-27'>Learn-State\f4 </\f)> \f&div\f#\f?\f*\fG-Status\f>\f)\f,\f*\fG_Status#'\f#\f+4'\f8\f#lef\fQ7\fK3'>وضعیت #\f&\f/\f#\f9m-l-5\fb0 w-98 bt-med\f%S.\f*\fG_StatusLearn(#,1)'>ست کردن</\f/> <\f/\f#\f9m-r-9 w-100 bt-med\f%S.\f*\fG_StatusLearn(#,0)'>حذف</\f/\fH\f,\f*\fG_StatusState#'\f#\f9m-l-0\fb12 state\fV\fz > </\f)> \f&div\f#SS-\f*\fG-Status\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f*\fG\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f;'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fg m-b-20'\fA\f#w-135\f@>تنظیم سناریو\f(\f#w-120\f%S.SceneInfo\f.جدول خلاصه\f4 \f&\f)\f#w-43\fa\f)\f#\f+0'\f8\f#\f?\f;_S\fXorOption\f>\f:\f3@value@'>@name@</\f:> \f&div\f#\f9f-16'>انتخاب سناریو\f&div\f#left'> <\f5\f,\f;_S\fXor'\f#w-313'\f'\f;_S\fXorC\fZ\fd> </\f5> \f&/\f)> <\f)\f#\f+10'\f8\f#\f9f-16'>تغییرنام سناریو\f&input\f,\f;_Name'\f#\few-313'\f212> </\f)\f8\f#\f?\f;-\fOOptions\f>\f: \fB00,01,09,08,02,04\fy'\f3FF'>-\f1\f: \fB00,01,09,08,04\fy'\f300'>خاموش\f1\f: \fB00,01,09,08,'\f301'>روشن\f1\f: \fB00,01,09,'\f302'>تغییر حالت\f1\f: \fB02,'\f301'>باز\f1\f: \fB02,'\f302'>بسته\f1\f: \fB02,'\f300'>توقف\f1\f: \fB04\fy'\f301'>سرعت کند\f1\f: \fB03,17,18,19,'\f302'>سرعت متوسط\f1\f: \fB04\fy'\f303'>سرعت تند\f1\f: \fB04,'\f311'>پمپ روشن\f1\f: \fB04,'\f310'>پمپ خاموش\f1\f: \fB17,18,19,'\f304'>مد سرمایش\f1\f: \fB17,18,19,'\f305'>مد گرمایش\f1\f: \fB17,18,19,'\f306'>مد دستی\f1\f: \fB00,01,\fT\f3FE'>قفل کارکرد\f1\f: \fB00,01,\fT\f3FD'>بازگشایی کارکرد\f1\f: \fB00,01,\fT\f3FC'>قفل کودک\f1\f: \fB00,01,\fT\f3FB'>بازگشایی قفل کودک</\f:> \f&div\f#\f?\f;-\fO\f>\f)\f#\f+10'\f8\f#\f9f\f}رله\f&input\f,\f;_\fO\fn\f#\fehold f-12 w-55'\f29 \fo='دقیقه و ثان\fr\f'\f;_\fODelay\f0<\f5\f,\f;_\fOCmd#'\f#lef\fQ3 w-125\fk5'\f'\f;_\fOCmd\f0<\f: \fB00,\fT\f3FF'>-\f1/\f5> <\f5\f,\f;_\fOType#'\f#lef\fQ3 w-200\fk5'\f'\f;_\fOType\f0@dvcOp";
const char PROGMEM_HTML6[] PROGMEM = "tion@ </\f5> </\f)> \f&div\f#\f+\f`\f#\fE\f&div\f#SS-\f;-\fO\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-GSM\f>\f)\f#\f+10'\f8\f#\f9f-15\fK2'>GSM\f&input\f,\f;_GSM\fn\f#\fehold f-12 w-55'\f29 \fo='دقیقه و ثان\fr\f'\f;_GSMDelay\f0\f_\f,\f;_GSMVal#'\f#\few-60\fk5' min='1' max='250'\f23 type='number'\f'\f;_GSM\f0\f_\f,\f;_GSMPhone#'\f#\fem-l-5 w-165'\f214\f'\f;_GSM\f0<\f5\f,\f;_GSMCmd#'\f#lef\fQ4 w-92\fk5'\f'\f;_GSM\f0<\f:\f3FF'>-\f$01'>پیامک به\f$11'>پیامک به 1\f$12'>پیامک به 2\f$13'>پیامک به 3\f$00'>تماس با\f$21'>تماس با 1\f$22'>تماس با 2\f$23'>تماس با 3\f1/\f5> </\f)> \f&div\f#SS-\f;-GSM\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-\fI\f>\f)\f#\f+10'\f8\f#\f9f-14\fK2'>مقدار سراسری\f&input\f,\f;_\fI\fn\f#\fehold f-12 w-55'\f29 \fo='دقیقه و ثان\fr\f'\f;_\fIDelay\f0\f_\f,\f;_\fIVal#'\f#\few-120\fk5' min='1' max='250'\f23 type='number'\f'\f;_\fI\f0<\f5\f,\f;_\fICmd#'\f#lef\fQ4 w-126\fk6'\f'\f;_\fI\f0<\f:\f3FF'>-\f$01'>ارسال وضعیت\f1/\f5> </\f)> \f&div\f#SS-\f;-\fI\f7\f&div\f#\f+\f`\f#\fE\f&div\f#\f?\f;-Code\f>\f)\f#\f+10'\f8\f#\f9f-15\fK2'>ارسال کد\f&input\f,\f;_Code\fn\f#\fehold f-12 w-55'\f29 \fo='دقیقه و ثان\fr\f'\f;_CodeDelay\f0\f_\f,\f;_CodeVal#'\f#lef\fQ2 w-180\fk5'\f220\f'\f;_Code\f0<\f5\f,\f;_CodeCmd#'\f#lef\fQ5 w-65\fk6'\f'\f;_Code\f0<\f:\f3FF'>-\f$01'>هگز\f$02'>متن\f1/\f5> </\f)> \f&div\f#SS-\f;-Code\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f;\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-\f='\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f@>دیجیتال\f(\f#\f[40\f%S.\f-GSM\f.پیامک\f(\f#\f[65\f%S.\f-\fG\f.گیرنده433\f(\f#\f[85\f%S.\f-\fI\f.مقدارسراسری\f(\f#\f[60\f%S.\f-Code\f.دریافت کد\f(\f#\f[85\f%S.\f-\fD\f.سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f-14'>ورودی دیجیتال\f4\fP\f#\f9m-r-60'>شرط \fM و \fM عملکرد\f4\fP\f#lef\fQ5 p-l-50'>سناریو\f4</\f)> \f&div\f#\f?\f-\f=\f>\f)\f,\f-\f=_#'\f#\f+1\fa\f5\f,\f-\f=_Dvc#'\f#\f9f-13 w-115\fK2'\f'\f-\f=_\f0@\f:s_dvc@ </\f5> <\f5\f,\f-\f=_Con#'\f#\f9\fl85\fK2\fb5'\f'\f-\f=_\f0<\f:\f3FF'>-\f$00'>قطع شدن\f$01'>وصل شدن\f1/\f5> <\f5\f,\f-\f=_Sen#'\f#lef\fQ4 w-135\fK2'\f'\f-\f=_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\f=_Act#'\f#lef\fQ4 w-75\fK2\fk5'\f'\f-\f=_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-\f=\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\f=\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-GSM'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f%S.\f-\f=\f.دیجیتال\f(\f#\f[40\f@>پیامک\f(\f#\f[65\f%S.\f-\fG\f.گیرنده433\f(\f#\f[85\f%S.\f-\fI\f.مقدارسراسری\f(\f#\f[60\f%S.\f-Code\f.دریافت کد\f(\f#\f[85\f%S.\f-\fD\f.سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f\f}تماس و پیامک\f4\fP\f#\f9m-r-57'>شرط \fM و \fM عملکرد\f4\fP\f#lef\fQ5 p-l-50'>سناریو\f4</\f)> \f&div\f#\f?\f-GSM\f>\f)\f,\f-GSM_#'\f#\f+1\fa\f5\f,\f-GSM_Dvc#'\f#\f9f-15 w-115\fK2'\f'\f-GSM_\f0<\f:\f3FF'>-\f$00'>دریافت تماس\f$01'>دریافت پیامک\f1/\f5\fH\f,\f-GSM_Con#'\f#\f9f-15 w-85\fK2\fb5\f61\fW0\f23\f'\f-GSM_\f0<\f5\f,\f-GSM_Sen#'\f#lef\fQ4 w-135\fK2'\f'\f-GSM_\f0@\f:s_sen@ </\f5> <\f5\f,\f-GSM_Act#'\f#lef\fQ4 w-75\fK2\fk5'\f'\f-GSM_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-GSM\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-GSM\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-\fG'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f%S.\f-\f=\f.دیجیتال\f(\f#\f[40\f%S.\f-GSM\f.پیامک\f(\f#\f[65\f@>گیرنده433\f(\f#\f[85\f%S.\f-\fI\f.مقدارسراسری\f(\f#\f[60\f%S.\f-Code\f.دریافت کد\f(\f#\f[85\f%S.\f-\fD\f.سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f-14\fb5'>\fG گیرنده\f4\fP\f#\f9m-r-61'>شرط \fM و \fM عملکرد\f4\fP\f#lef\fQ5 p-l-50'>سناریو\f4</\f)> \f&div\f#\f?\f-\fG\f>\f)\f,\f-\fG_#'\f#\f+1\fa\f5\f,\f-\fG_Dvc#'\f#\f9\fl115\fK2'\f'\f-\fG_\f0<\f:\f3FF'>-\f$01'>دریافت وضعیت\f1/\f5> <\f5\f,\f-\fG_Con#'\f#\f9f-13 w-85\fK2\fb5'\f'\f-\fG_\f0@\f:s_dvc@ </\f5> <\f5\f,\f-\fG_Sen#'\f#lef\fQ4 w-135\fK2'\f'\f-\fG_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fG_Act#'\f#lef\fQ4 w-75\fK2\fk5'\f'\f-\fG_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-\fG\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fG\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-\fI'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f%S.\f-\f=\f.دیجیتال\f(\f#\f[40\f%S.\f-GSM\f.پیامک\f(\f#\f[65\f%S.\f-\fG\f.گیرنده433\f(\f#\f[85\f@>مقدارسراسری\f(\f#\f[60\f%S.\f-Code\f.دریافت کد\f(\f#\f[85\f%S.\f-\fD\f.سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f-14'>مقدار سراسری\f4\fP\f#\f9m-r-54'>شرط \fM و \fM عملکرد\f4\fP\f#lef\fQ5 p-l-50'>سناریو\f4</\f)> \f&div\f#\f?\f-\fI\f>\f)\f,\f-\fI_#'\f#\f+1\fa\f5\f,\f-\fI_Dvc#'\f#\f9\fl120\fK2'\f'\f-\fI_\f0<\f:\f3FF'>-\f$01'>دریافت مقدار\f1/\f5\fH\f,\f-\fI_Con#'\f#\f9f-15 w-80\fK2\fb5\f61\fW0\f23\f'\f-\fI_\f0<\f5\f,\f-\fI_Sen#'\f#lef\fQ4 w-135\fK2'\f'\f-\fI_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fI_Act#'\f#lef\fQ4 w-75\fK2\fk5'\f'\f-\fI_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-\fI\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fI\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-Code'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f%S.\f-\f=\f.دیجیتال\f(\f#\f[40\f%S.\f-GSM\f.پیامک\f(\f#\f[65\f%S.\f-\fG\f.گیرنده433\f(\f#\f[85\f%S.\f-\fI\f.مقدارسراسری\f(\f#\f[60\f@ >دریافت کد\f(\f#\f[85\f%S.\f-\fD\f.سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f\f}کد دریافتی\f4\fP\f#\f9m-r-47'>متن شرط \fM و \fM عملکرد\f4\fP\f#lef\fQ5 p-l-50'>سناریو\f4</\f)> \f&div\f#\f?\f-Code\f>\f)\f,\f-Code_#'\f#\f+1\fa\f5\f,\f-Code_Dvc#'\f#\f9\fl55\fK2'\f'\f-Code_\f0<\f:\f3FF'>-\f$01'>هگز\f$02'>متن\f1/\f5\fH\f,\f-Code_Con#'\f#\f9f-13 w-147\fK2\fb3'\f220\f'\f-Code_\f0<\f5\f,\f-Code_Sen#'\f#lef\fQ4 w-137\fK2'\f'\f-Code_\f0@\f:s_sen@ </\f5> <\f5\f,\f-Code_Act#'\f#lef\fQ4 w-75\fK2\fk3'\f'\f-Code_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-Code\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-Code\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fh\f-\fD'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#\f[50\f%S.\f-\f=\f.دیجیتال\f(\f#\f[40\f%S.\f-GSM\f.پیامک\f(\f#\f[65\f%S.\f-\fG\f.گیرنده433\f(\f#\f[85\f%S.\f-\fI\f.مقدارسراسری\f(\f#\f[60\f%S.\f-Code\f.دریافت کد\f(\f#\f[85\f@ >سنسور مرتبط\f4 \f&\f)\f#\fv\f8\f#\f]\f)\f#\fF f-14'>\fP\f#\fc'>Other \fs\f4\fP\f#lef\fQ4\fk3'>Subnet\f4\fP\f#\fem-l-14 f-14'>\f*\f4\fP\f#\fem-l-25'>\fs Type\f4</\f)> \f&\f)\f,\f-\fD\f*'\f#\f+10'\f8\f#\f9f-17\fK1'>نوع ابزار مرتبط\f&input\f,\f-\fD\f*_S_Ch'\f#\few-55' style='visibility:hidden\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_S_Ad'\f#\few-55\fk5\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_S_Sub'\f#\few-55\fk5\f60\fW4\f23\f'\f-\fD_\f*C\fZ()'> <\f5\f,\f-\fD\f*_S_Type'\f#lef\fQ4 w-126\fk5'\f'\f-\fD_\f*C\fZ\fd> <\f:\f30B'>سنسور مولتی\f$FF'>عدم استفاده\f1/\f5> </\f)> <\f)\f#\f+10'\f8\f#\f9f-17\fK1'>نوع ابزار مرتبط\f&input\f,\f-\fD\f*_R_Ch'\f#\few-55\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_R_Ad'\f#\few-55\fk5\f61\fW4\f23\f'\f-\fD_\f*C\fZ()'\fH\f,\f-\fD\f*_R_Sub'\f#\few-55\fk5\f60\fW4\f23\f'\f-\fD_\f*C\fZ()'> <\f5\f,\f-\fD\f*_R_Type'\f#lef\fQ4 w-126\fk5'\f'\f-\fD_\f*C\fZ\fd> <\f:\f313'>گیرنده ریموت 433\f$FF'>عدم استفاده\f1/\f5> </\f)\f8\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#w-440'\f8\f#\f]\f)\f#\fF f\f}\fP\f#\f9f-13\fK2'>سنسور مرتبط\f4\fP\f#\f9f-13\fK2\fb22'>شرط \fMحداقل \fM-\fM حداکثر\f4\fP\f#\fep-l-45'>سناریو\f4\fP\f#\fep-l-30'>عملکرد\f4</\f)> \f&div\f#\f?\f-\fD\f>\f)\f,\f-\fD_#'\f#\f+1\fa\f5\f,\f-\fD_Dvc#'\f#\f9f-13 w-87\fK2'\f'\f-\fD_\f0<\f:\f3FF'>-\f$13'>گیرنده 433\f$0B'>دما\f$0C'>نور\f$0D'>گاز و دود\f$0E'>حرکتی\f$10'>رطوبت هوا\f$11'>رطوبت خاک\f$0F'>مگنت درب\f1/\f5> <\f5\f,\f-\fD_Con#'\f#\f9f-bold \fl45\fK2\fb3'\f'\f-\fD_\f0<\f:\f3==' >==\f$<=' >&lt;=\f$>=' >&gt;=\f$<>' >&lt; &gt;\f1/\f5\fH\f,\f-\fD_ConMin#\fVnumber'\f#\f9f-12 w-53\fK2\fb3 hide-disabled' min=0\f25\f'\f-\fD_\f0\f_\f,\f-\fD_ConMax#\fVnumber'\f#\f9f-12 w-53\fK2\fb3 hide-disabled' min=0\f25\f'\f-\fD_\f0<\f5\f,\f-\fD_Sen#'\f#lef\fQ2 w-122\fK2'\f'\f-\fD_\f0@\f:s_sen@ </\f5> <\f5\f,\f-\fD_Act#'\f#lef\fQ2 w-";
const char PROGMEM_HTML7[] PROGMEM = "65\fK2\fk3'\f'\f-\fD_\f0<\f: \f5ed\f302'>اجرا\f$01'>فعال\f$00'>غیرفعال\f1/\f5> </\f)> \f&div\f#SS-\f-\fD\f7\f&div\f#\f+\f`\f#\fE\f&/\f)> <\f)\f#\ff \f+1\fU\f/\f#\fR\fc\f%S.\f-\fD\f\\\\ذخیره</\f/> <\f/\f#\fN\f%\f<\ft\f/> </\f)> \f&div\f,\fhS\fwBackup'\f#\fCfa'\f8\f#\f^\fXor\f7\f&div\f#\fS\f-'\fA\f#menu-active w-160'>پشتیبان \f~\f4 \f&\f)\f#w-400 row f-14'> <p\f#greenlight'\fA>با استفاده از استخراج نسخه پشتیبان، می‌توانید از داده‌های \f~ فعلی این ابزار (شامل آدرسها و سناریوها) پشتیبان تهیه نموده و در قالب یک فایل جیسون دانلود کنید\f4 <br\f#h-1'> <\f/\f#key greendark float-none\fK12 w-200\f%S.S\fwBackup_Export()'>استخراج نسخه پشتیبان</\f/> </p> <p\f#redb\f9m-t-25'\fA\f#f-13'>اگر فایل پشتیبان از داده های قبلی خود دارید ، میتوانید از آن برای وارد کردن داده های \f~ قبلی به جای \f~ فعلی استفاده کنید\f4 <br\fA\f#blink-light f-bold p-t-5 c-white'>هشدار !<br>عملیات بارگذاری پشتیبان باعث حذف و رونویسی \f~ فعلی شما خواهد شد\f4 <br\f#h-1'> <\f/\f#key red float-none\fK12 w-200\f%S.S\fwBackup_Import()'>بارگذاری از پشتیبان</\f/> </p> </\f)\f8\f#\f+10'><hr\f#\fE\f&\f)\f#\ff row p-b-5'> <\f/\f#\fY float-none w-200\f%G.S\fXion_Backed()'>بازگشت</\f/> </\f)> \f&/div\f8\f#div-footer'> SN: 0000000000 / \fs Details \f&/\f)>\");document.getElementById('TmP123').outerHTML=''}catch(x){}</script>";

const char* const PROGMEM_HTML[] PROGMEM = {
  PROGMEM_HTML1,
  PROGMEM_HTML2,
  PROGMEM_HTML3,
  PROGMEM_HTML4,
  PROGMEM_HTML5,
  PROGMEM_HTML6,
  PROGMEM_HTML7
};
const byte maxPROGMEM_HTML = 7;
